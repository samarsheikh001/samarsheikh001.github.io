window.__NUXT__=(function(a,b,c,d,e,f){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634315825",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:677101,title:"Using Ruby Procs to improve readability",description:"We always try to avoid adding comments to our code. There may be some exceptions but ideally the code...",readable_publish_date:"Apr 24",slug:"using-ruby-procs-to-improve-readability-5bfg",path:"\u002Fmainstreet\u002Fusing-ruby-procs-to-improve-readability-5bfg",url:c,comments_count:0,public_reactions_count:d,collection_id:a,published_timestamp:b,positive_reactions_count:d,cover_image:a,social_image:"https:\u002F\u002Fdev.to\u002Fsocial_previews\u002Farticle\u002F677101.png",canonical_url:c,created_at:"2021-04-24T09:33:27Z",edited_at:"2021-04-24T12:16:48Z",crossposted_at:a,published_at:b,last_comment_at:b,reading_time_minutes:1,tag_list:"ruby, rails, 5days5blogposts",tags:["ruby","rails","5days5blogposts"],body_html:"\u003Cp\u003EWe always try to avoid adding comments to our code. There may be some exceptions but ideally the code itself should clearly express what it is doing.\u003C\u002Fp\u003E\n\n\u003Cp\u003EIn this pursuit of code readability and expressiveness Procs are helpful in many scenarios. For example when we are dealing with a complex logic within a block we want to pass to a method (\u003Ccode\u003Emap\u003C\u002Fcode\u003E, \u003Ccode\u003Eselect\u003C\u002Fcode\u003E, etc) from the \u003Ca href=\"http:\u002F\u002Fruby-doc.org\u002Fcore-2.2.3\u002FEnumerable.html\"\u003EEnumerable\u003C\u002Fa\u003E module.\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"before\" href=\"#before\"\u003E\n  \u003C\u002Fa\u003E\n  Before\n\u003C\u002Fh3\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight ruby\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eerror_messages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eerrors\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E      \n  \u003Cspan class=\"n\"\u003Eerrors\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Emap\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\":\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Estrip\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Erescue\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E\"\"\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Euniq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\", \"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eend\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003ELet's focus on the block \u003Ccode\u003E{ |e| e.message.split(\":\")[3].strip rescue \"\" }\u003C\u002Fcode\u003E we are passing to the \u003Ccode\u003Emap\u003C\u002Fcode\u003E method. It is not extremely complex but still getting your head around it could take a while especially if it is the first time to face this code or functionally within an application.\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"after\" href=\"#after\"\u003E\n  \u003C\u002Fa\u003E\n  After\n\u003C\u002Fh3\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight ruby\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eerror_messages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eerrors\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Eextract_readable_message\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eproc\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\":\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Estrip\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Erescue\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E\"\"\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Eerrors\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eextract_readable_message\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Euniq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\", \"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eend\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThis second version adding a Proc didn't change what the code does, but now anyone coming to these lines of code will easily understand not only what the code does but also why it does it.\u003C\u002Fp\u003E\n\n\u003Cp\u003EWhat you think? Do you find this is worth it? Have you ever add a Proc as a way to improve readability?\u003C\u002Fp\u003E\n\n",body_markdown:"---\ntitle: Using Ruby Procs to improve readability\npublished: true\ndescription: \ntags: ruby, rails, 5days5blogposts\n---\n\nWe always try to avoid adding comments to our code. There may be some exceptions but ideally the code itself should clearly express what it is doing.\n\nIn this pursuit of code readability and expressiveness Procs are helpful in many scenarios. For example when we are dealing with a complex logic within a block we want to pass to a method (`map`, `select`, etc) from the [Enumerable](http:\u002F\u002Fruby-doc.org\u002Fcore-2.2.3\u002FEnumerable.html) module.\n\n### Before\n```ruby\ndef self.error_messages(errors)      \n  errors.map { |e| e.message.split(\":\")[3].strip rescue \"\" }.uniq.join(\", \")\nend\n```\n\nLet's focus on the block `{ |e| e.message.split(\":\")[3].strip rescue \"\" }` we are passing to the `map` method. It is not extremely complex but still getting your head around it could take a while especially if it is the first time to face this code or functionally within an application.\n\n### After\n\n```ruby\ndef self.error_messages(errors)\n  extract_readable_message = proc { |e| e.message.split(\":\")[3].strip rescue \"\" }\n  errors.map(&extract_readable_message).uniq.join(\", \")\nend\n```\n\nThis second version adding a Proc didn't change what the code does, but now anyone coming to these lines of code will easily understand not only what the code does but also why it does it.\n\nWhat you think? Do you find this is worth it? Have you ever add a Proc as a way to improve readability?",user:{name:"Manuel Ortega",username:e,twitter_username:"OrtegaCManuel",github_username:e,website_url:"https:\u002F\u002Fgithub.com\u002Fortegacmanuel",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--RDXyQVuO--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F63203\u002F45fb6820-469c-4f38-aef1-f887a6b0a7a4.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--2eCHgzCp--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F63203\u002F45fb6820-469c-4f38-aef1-f887a6b0a7a4.jpeg"},organization:{name:"Main Street",username:f,slug:f,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs---ZMOB6s---\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2633\u002F22308430-15a4-4e8d-9bde-320994d23333.jpg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--Amk9xRdc--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2633\u002F22308430-15a4-4e8d-9bde-320994d23333.jpg"}}},serverRendered:true,routePath:"\u002Farticles\u002Fortegacmanuel\u002F677101",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"2021-04-24T12:12:52Z","https:\u002F\u002Fdev.to\u002Fmainstreet\u002Fusing-ruby-procs-to-improve-readability-5bfg",9,"ortegacmanuel","mainstreet"));