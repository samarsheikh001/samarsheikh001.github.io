__NUXT_JSONP__("/articles/ibrahimcesar/702123", (function(a,b,c,d,e,f){c.type_of="article";c.id=702123;c.title="How to host a Next.js web apps with server-side rendering (SSR) in AWS Amplify";c.description="No more waiting! It‚Äôs finally here, AWS Amplify hosting for Next.js server-side rendering (SSR).  Why...";c.readable_publish_date="May 18";c.slug="how-to-host-a-next-js-web-apps-with-server-side-rendering-ssr-in-aws-amplify-3n3h";c.path="\u002Faws-builders\u002Fhow-to-host-a-next-js-web-apps-with-server-side-rendering-ssr-in-aws-amplify-3n3h";c.url="https:\u002F\u002Fdev.to\u002Faws-builders\u002Fhow-to-host-a-next-js-web-apps-with-server-side-rendering-ssr-in-aws-amplify-3n3h";c.comments_count=0;c.public_reactions_count=d;c.collection_id=e;c.published_timestamp=a;c.positive_reactions_count=d;c.cover_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--jZyGF3uf--\u002Fc_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002F2beneh6h36dx90n292hc.png";c.social_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--eAjWjH_o--\u002Fc_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002F2beneh6h36dx90n292hc.png";c.canonical_url="https:\u002F\u002Fibrahimcesar.cloud\u002Fblog\u002Fhow-to-host-a-nextjs-web-app-with-server-side-rendering-ssr-in-aws-amplify\u002F";c.created_at="2021-05-18T19:20:48Z";c.edited_at="2021-06-20T19:31:00Z";c.crossposted_at=e;c.published_at=a;c.last_comment_at=a;c.reading_time_minutes=8;c.tag_list="aws, amplify, nextjs, react";c.tags=["aws","amplify","nextjs","react"];c.body_html="\u003Cp\u003ENo more waiting! It‚Äôs finally here, \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Fabout-aws\u002Fwhats-new\u002F2021\u002F05\u002Faws-amplify-hosting-announces-server-side-rendering-support-for-next-js-web-apps\u002F\"\u003EAWS Amplify hosting for Next.js server-side rendering (SSR)\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Cstrong\u003EWhy this is great\u003C\u002Fstrong\u003E: It‚Äôs no joke, I wait for this feature for \u003Cem\u003Emore than a year\u003C\u002Fem\u003E. And is finally here and is fast!\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Cstrong\u003ENot so great\u003C\u002Fstrong\u003E: Next 10.x.x was a huge leap forward. All things I wanted to try, right off the bat, and backed in my applications...But this will be on hold, as the time of writing, this launch only his support is for Next.js 9.x.x version. Considering version 10.x is from October 2020 I think the pace is a little slow to catchup.\u003C\u002Fp\u003E\n\n\u003Cp\u003ETo evaluate what type of rendering your application need, I recommend the post \u003Ca href=\"https:\u002F\u002Fvercel.com\u002Fblog\u002Fnextjs-server-side-rendering-vs-static-generation\"\u003ENext.js: Server-side Rendering vs. Static Generation\u003C\u002Fa\u003E by \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fleeerob\"\u003ELee Robinson\u003C\u002Fa\u003E‚Äîand in the \u003Cem\u003Ereal world\u003C\u002Fem\u003E sometimes you‚Äôll need both.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"the-webapp\" href=\"#the-webapp\"\u003E\n  \u003C\u002Fa\u003E\n  The webapp\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EFor all purposes, you could do with your app or create a boilerplate new \u003Ca href=\"https:\u002F\u002Fnextjs.org\u002Fdocs\u002Fbasic-features\u002Fpages#server-side-rendering\"\u003ENextJS with SSR\u003C\u002Fa\u003E. I created this barebones site that renders some info from the \u003Ca href=\"https:\u002F\u002Fpokeapi.co\u002F\"\u003EPok√©API\u003C\u002Fa\u003E. This is the repository on GitHub:\u003C\u002Fp\u003E\n\n\n\u003Cdiv class=\"ltag-github-readme-tag\"\u003E\n  \u003Cdiv class=\"readme-overview\"\u003E\n    \u003Ch2\u003E\n      \u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--i3JOwpme--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev.to\u002Fassets\u002Fgithub-logo-ba8488d21cd8ee1fee097b8410db9deaa41d0ca30b004c0c63de0a479114156f.svg\" alt=\"GitHub logo\" loading=\"lazy\"\u003E\n      \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fibrahimcesar\"\u003E\n        ibrahimcesar\n      \u003C\u002Fa\u003E \u002F \u003Ca style=\"font-weight: 600;\" href=\"https:\u002F\u002Fgithub.com\u002Fibrahimcesar\u002Fnextjs-ssr-amplify-aws\"\u003E\n        nextjs-ssr-amplify-aws\n      \u003C\u002Fa\u003E\n    \u003C\u002Fh2\u003E\n    \u003Ch3\u003E\n      üëæ ‚Äè‚Äè‚Äé ‚Äé‚Äè‚Äè‚Äé ‚Äé‚Äè‚Äè‚Äé ‚ÄéRepository to test NextJS Server Side Rendering with AWS Amplify\n    \u003C\u002Fh3\u003E\n  \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"ltag-github-body\"\u003E\n    \n\u003Cdiv id=\"readme\" class=\"md\" data-path=\"README.md\"\u003E\u003Carticle class=\"markdown-body entry-content container-lg\" itemprop=\"text\"\u003E\u003Cdiv align=\"center\"\u003E\n  \u003Ca href=\"https:\u002F\u002Famplify.aws\u002Fcommunity\" rel=\"nofollow\"\u003E\n    \u003Cimg alt=\"Amplify\" src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--9uwzN3re--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fgithub.com\u002Faws-amplify\u002Fcommunity\u002Fraw\u002Fmaster\u002Fsrc\u002Fassets\u002Fimages\u002Flogo-dark.png\" width=\"60\" style=\"max-width:100%;\" loading=\"lazy\"\u003E\n  \u003C\u002Fa\u003E\n\u003Ch1\u003E\n  \u003Cg-emoji class=\"g-emoji\" alias=\"space_invader\" fallback-src=\"https:\u002F\u002Fgithub.githubassets.com\u002Fimages\u002Ficons\u002Femoji\u002Funicode\u002F1f47e.png\"\u003Eüëæ\u003C\u002Fg-emoji\u003E AWS Amplify NextJS SSR\n\u003C\u002Fh1\u003E\n\u003Cblockquote\u003EExample of NextJS SSR example to deploy with AWS Amplify SSR Hosting using the Pok√©API\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fellerbrock\u002Ftypescript-badges\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fcamo.githubusercontent.com\u002F1d1f56c37cf5dfd1b9c3782a8d1d6fe07f8764e8c35f53ec90460e5b38cd8f7d\u002F68747470733a2f2f6261646765732e66726170736f66742e636f6d2f747970657363726970742f636f64652f747970657363726970742e7376673f763d313031\" alt=\"TypeScript\" data-canonical-src=\"https:\u002F\u002Fbadges.frapsoft.com\u002Ftypescript\u002Fcode\u002Ftypescript.svg?v=101\" style=\"max-width:100%;\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EDeveloped in \u003Cg-emoji class=\"g-emoji\" alias=\"brazil\" fallback-src=\"https:\u002F\u002Fgithub.githubassets.com\u002Fimages\u002Ficons\u002Femoji\u002Funicode\u002F1f1e7-1f1f7.png\"\u003Eüáßüá∑\u003C\u002Fg-emoji\u003E \u003Cspan\u003EBrazil\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fupdown.io\u002Fakzp\" rel=\"nofollow\"\u003EPok√©API Status Page\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Ch2\u003E\nDeploying\u003C\u002Fh2\u003E\n\u003Ch3\u003E\nIf you never used Amplify\u003C\u002Fh3\u003E\n\u003Cp\u003EYou‚Äôll need to have the amplify \u003Ca href=\"https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fstart\u002Finstall\" rel=\"nofollow\"\u003Einstalled and configured\u003C\u002Fa\u003E. Just follow the docs and you‚Äôll be ready to go. Or make sure you have the latest version.\u003C\u002Fp\u003E\n\u003Ch3\u003E\nAmplify Init\u003C\u002Fh3\u003E\n\u003Cdiv class=\"highlight highlight-source-shell position-relative js-code-highlight\" data-snippet-clipboard-copy-content=\"\n‚ùØ amplify init\nNote: It is recommended to run this command from the root of your app directory\n? Enter a name for the project pokessr\n\nThe following configuration will be applied:\n\nProject information\n\n| Name: pokessr\n\n| Environment: dev\n\n| Default editor: Visual Studio Code\n\n| App type: javascript\n\n| Javascript framework: react\n\n| Source Directory Path: src\n\n| Distribution Directory Path: build\n\n| Build Command: npm run-script build\n\n| Start Command: npm run-script start\n\n? Initialize the project with the above configuration? Yes\n\nUsing default provider  awscloudformation\n\n? Select the authentication method you want to use: AWS profile\n\nFor more information on AWS Profiles, see:\n\nhttps:\u002F\u002Fdocs.aws.amazon.com\u002Fcli\u002Flatest\u002Fuserguide\u002Fcli-configure-profiles.html\n\n? Please choose the profile you want to use amplify\n\n\"\u003E\n\u003Cpre\u003E‚ùØ amplify init\nNote: It is recommended to run this \u003Cspan class=\"pl-c1\"\u003Ecommand\u003C\u002Fspan\u003E from the root of your app directory\n\n\u003Cspan class=\"pl-k\"\u003E?\u003C\u002Fspan\u003E Enter a name \u003Cspan class=\"pl-k\"\u003Efor\u003C\u002Fspan\u003E the project pokessr\n\nThe following configuration will be applied:\n\nProject information\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Name: pokessr\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Environment: dev\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Default editor: Visual Studio Code\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E App type: javascript\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Javascript framework: react\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Source Directory Path: src\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Distribution Directory Path: build\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Build Command: npm run-script build\n\n\u003Cspan class=\"pl-k\"\u003E|\u003C\u002Fspan\u003E Start Command: npm run-script start\n\n\u003Cspan class=\"pl-k\"\u003E?\u003C\u002Fspan\u003E Initialize the project with the above configuration\u003Cspan class=\"pl-k\"\u003E?\u003C\u002Fspan\u003E Yes\n\nUsing\u003C\u002Fpre\u003E‚Ä¶\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Farticle\u003E\u003C\u002Fdiv\u003E\n  \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"gh-btn-container\"\u003E\u003Ca class=\"gh-btn\" href=\"https:\u002F\u002Fgithub.com\u002Fibrahimcesar\u002Fnextjs-ssr-amplify-aws\"\u003EView on GitHub\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EYou can leave all build options as it is, because Amplify will automatically pick up as SSR and deploy it. For this to happen you also don‚Äôt need (or have to) choose a different export folder. If you clone my repo, you could check that I‚Äôm indeed using NextJS \u003Ccode\u003E10.0.0\u003C\u002Fcode\u003E but, I cannot use any additional feature like the new \u003Ccode\u003EImage\u003C\u002Fcode\u003E component.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"deploying\" href=\"#deploying\"\u003E\n  \u003C\u002Fa\u003E\n  Deploying\n\u003C\u002Fh2\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"if-you-never-used-amplify\" href=\"#if-you-never-used-amplify\"\u003E\n  \u003C\u002Fa\u003E\n  If you never used Amplify\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EYou‚Äôll need to have the amplify \u003Ca href=\"https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fstart\u002Finstall\"\u003Einstalled and configured\u003C\u002Fa\u003E. Just follow the docs and you‚Äôll be ready to go. Or make sure you have the latest version.\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"amplify-init\" href=\"#amplify-init\"\u003E\n  \u003C\u002Fa\u003E\n  Amplify Init\n\u003C\u002Fh3\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E‚ùØ amplify init\nNote: It is recommended to run this \u003Cspan class=\"nb\"\u003Ecommand \u003C\u002Fspan\u003Efrom the root of your app directory\n? Enter a name \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Ethe project pokessr\nThe following configuration will be applied:\nProject information\n| Name: pokessr\n| Environment: dev\n| Default editor: Visual Studio Code\n| App \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E: javascript\n| Javascript framework: react\n| Source Directory Path: src\n| Distribution Directory Path: build\n| Build Command: npm run-script build\n| Start Command: npm run-script start\n\n? Initialize the project with the above configuration? Yes\nUsing default provider  awscloudformation\n? Select the authentication method you want to use: AWS profile\nFor more information on AWS Profiles, see:\nhttps:\u002F\u002Fdocs.aws.amazon.com\u002Fcli\u002Flatest\u002Fuserguide\u002Fcli-configure-profiles.html\n\n? Please choose the profile you want to use amplify\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EBesides the name, \u003Ccode\u003Epokessr\u003C\u002Fcode\u003E, I only choose my profile to deploy, called \u003Ccode\u003Eamplify\u003C\u002Fcode\u003E but you can deploy in whatever profile you configured. I accepted all defaults. Then amplify will create your environment:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight plaintext\"\u003E\u003Ccode\u003EAdding backend environment dev to AWS Amplify Console app: d31r520fbr96mj\n\n‚†ô Initializing project in the cloud...\n\nCREATE_IN_PROGRESS amplify-pokessr-dev-185133 AWS::CloudFormation::Stack Tue May 18 2021 18:51:41 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) User Initiated\nCREATE_IN_PROGRESS UnauthRole                 AWS::IAM::Role             Tue May 18 2021 18:51:45 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS AuthRole                   AWS::IAM::Role             Tue May 18 2021 18:51:45 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS DeploymentBucket           AWS::S3::Bucket            Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS UnauthRole                 AWS::IAM::Role             Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\nCREATE_IN_PROGRESS AuthRole                   AWS::IAM::Role             Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\n\n‚†á Initializing project in the cloud...\n\nCREATE_IN_PROGRESS DeploymentBucket AWS::S3::Bucket Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\n\n‚†∏ Initializing project in the cloud...\n\nCREATE_COMPLETE AuthRole   AWS::IAM::Role Tue May 18 2021 18:51:59 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_COMPLETE UnauthRole AWS::IAM::Role Tue May 18 2021 18:51:59 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\n\n‚†π Initializing project in the cloud...\n\nCREATE_COMPLETE DeploymentBucket           AWS::S3::Bucket            Tue May 18 2021 18:52:08 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_COMPLETE amplify-pokessr-dev-185133 AWS::CloudFormation::Stack Tue May 18 2021 18:52:10 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\n\n‚úî Successfully created initial AWS cloud resources for deployments.\n‚úî Initialized provider successfully.\n\nInitialized your environment successfully.\n\nYour project has been successfully initialized and connected to the cloud!\n\nSome next steps:\n\n‚Äúamplify status‚Äù will show you what you‚Äôve added already and if it‚Äôs locally configured or deployed\n‚Äúamplify add &lt;category&gt;‚Äú will allow you to add features like user login or a backend API\n‚Äúamplify push‚Äù will build all your local backend resources and provision it in the cloud\n‚Äúamplify console‚Äù to open the Amplify Console and view your project status\n‚Äúamplify publish‚Äù will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud\n\nPro tip:\nTry ‚Äúamplify add api‚Äù to create a backend API and then ‚Äúamplify publish‚Äù to deploy everything\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EWhat we are going to use is \u003Ccode\u003Ehosting\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAnd by zero configuration, you just need to connect your repository and the building settings will be set. \u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--hOsVDlo5--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fnplnbf5sqsoy4mkvrb8k.png\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--hOsVDlo5--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fnplnbf5sqsoy4mkvrb8k.png\" alt=\"Build settings\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EAnd you can always have a look at how the build is going accessing the logs in the AWS Amplify console. For our purposes, see a \u003Ccode\u003EStarting SSR Build\u003C\u002Fcode\u003E in your logs:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E2021-05-18T22:35:49.379Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Creating an optimized production build...\n2021-05-18T22:35:58.592Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Compiled successfully\n                                 info  - Collecting page data...\n2021-05-18T22:35:59.098Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Generating static pages \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E0\u002F28\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n2021-05-18T22:35:59.480Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Generating static pages \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E7\u002F28\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n2021-05-18T22:35:59.600Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Generating static pages \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E14\u002F28\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n2021-05-18T22:35:59.706Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Generating static pages \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E21\u002F28\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n2021-05-18T22:35:59.797Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Generating static pages \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E28\u002F28\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n2021-05-18T22:35:59.797Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: info  - Finalizing page optimization...\n2021-05-18T22:35:59.814Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: \n2021-05-18T22:35:59.860Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: Page                              Size     First Load JS\n                                 ‚îå Œª \u002F                             1.32 kB        68.7 kB\n                                 ‚îú   \u002F_app                         0 B            64.2 kB\n                                 ‚îú Œª \u002F[ditto]                      1.39 kB        68.7 kB\n                                 ‚îú ‚óã \u002F404                          2.76 kB        66.9 kB\n                                 ‚îú ‚óè \u002Fpokemons\u002F[name]              1.53 kB        68.9 kB\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fbulbasaur\n\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fivysaur\n\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fvenusaur\n\n                                 ‚îú   ‚îî \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E+22 more paths]\n\n                                 ‚îî Œª \u002Frandom                       1.39 kB        68.7 kB\n                                 + First Load JS shared by all     64.2 kB\n                                 ‚îú chunks\u002Fcommons.b2f5db.js      13.5 kB\n                                 ‚îú chunks\u002Fframework.149f13.js    42 kB\n                                 ‚îú chunks\u002Fmain.e0d560.js         6.8 kB\n                                 ‚îú chunks\u002Fpages\u002F_app.9245f7.js   865 B\n                                 ‚îú chunks\u002Fwebpack.f82c36.js      950 B\n                                 ‚îî css\u002Fb8e1ed54af27c57535f7.css  897 B\n\n2021-05-18T22:35:59.861Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: Œª  \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003EServer\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E  server-side renders at runtime \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Euses getInitialProps or getServerSideProps\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n                                 ‚óã  \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003EStatic\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E  automatically rendered as static HTML \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Euses no initial props\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n                                 ‚óè  \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003ESSG\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E     automatically generated as static HTML + JSON \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Euses getStaticProps\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n                                 \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003EISR\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E     incremental static regeneration \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Euses revalidate \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003EgetStaticProps\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n2021-05-18T22:35:59.993Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: Starting SSR Build...\n2021-05-18T22:37:10.138Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: SSR Build Complete.\n2021-05-18T22:37:11.159Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: \u003Cspan class=\"c\"\u003E# Completed phase: build\u003C\u002Fspan\u003E\n2021-05-18T22:37:11.159Z \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO]: \u003Cspan class=\"c\"\u003E## Build completed successfully\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EThen you gave to wait a couple of minutes and your application you be on your custom domain or in the generate domain of Amplify. For this demonstration my web apps is \u003Ca href=\"https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002F\"\u003Eavailable here\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"pages\" href=\"#pages\"\u003E\n  \u003C\u002Fa\u003E\n  Pages\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EThe front page is itself server side generated:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight tsx\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetServerSideProps\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EGetServerSideProps\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemons\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eprops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EIt will query in the Pok√©API and return all Pok√©mons until reaching the number or the maximum today. I placed \u003Ccode\u003E3000\u003C\u002Fcode\u003E but as you can check, the actual number today is \u003Ccode\u003E1118\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EWhen you click in a Pok√©mon, I use a dynamic route in the file \u003Ccode\u003Editto\u003C\u002Fcode\u003E to generate the Pok√©mon by the name. Pok√©mon fans will get the reference. And \u003Ccode\u003E[ditto].tsx\u003C\u002Fcode\u003E is also SSR.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight tsx\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetServerSideProps\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EGetServerSideProps\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Equery\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etypeof\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\"err\"\u003E‚Äò\u003C\u002Fspan\u003E\u003Cspan class=\"kr\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E‚Äô\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemonData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eprops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EBut for fun I created a \u003Ccode\u003Erandom\u003C\u002Fcode\u003E page... that renders a random Pok√©mons to test even better the SSR. It get all the possible Pok√©mons and returns one at random using \u003Ccode\u003EMath.random()\u003C\u002Fcode\u003E:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight tsx\"\u003E\u003Ccode\u003E\n\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetServerSideProps\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EGetServerSideProps\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erandom\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemons\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EPokedex\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erandom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eresults\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erandom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eresults\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elength\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003EMath\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erandom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ename\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etypeof\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\"err\"\u003E‚Äò\u003C\u002Fspan\u003E\u003Cspan class=\"kr\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E‚Äô\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemonData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Editto\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eprops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EAnd to test ISG (Incremental Static Generation) I created a folder called \u003Ccode\u003Epokemons\u003C\u002Fcode\u003E. \u003Ca href=\"https:\u002F\u002Fnextjs.org\u002Fblog\u002Fnext-9-5#stable-incremental-static-regeneration\"\u003EStable static generation was added to Next 9.3\u003C\u002Fa\u003E but my test doesn‚Äôt show that works right now with the Amplify SSR hosting, it defaults to the SSR. ISG is a mechanism to update existing pages, by re-rendering them in the background as traffic comes in using the property \u003Ccode\u003Erevalidate\u003C\u002Fcode\u003E. Also, another great use is, per example, you have a specific dataset of pages to generate at build time but you‚Äôll need on dynamic routes to be generated new pages as soon you publish another in your headless CMS or database. \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fserverless-nextjs\u002Fserverless-next.js\u002Fissues\u002F804\"\u003EISG generated even a bounty as feature in another project\u003C\u002Fa\u003E and unlocks a lot of interesting use cases.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight tsx\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetStaticProps\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EGetStaticProps\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eparams\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemonData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eparams\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ename\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"kr\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eprops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Edate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E().\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Erevalidate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E60\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E5\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E};\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetStaticPaths\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EGetStaticPaths\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kr\"\u003Estring\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epokemons\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgetPokemons\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E25\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EPokedex\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epaths\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epokemons\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eresults\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E((\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epokemon\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eparams\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Epokemon\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Efallback\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Epaths\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"p\"\u003E};\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EFor my example, I generate at build time the first 25 Pok√©mons. See that my props are changing, I‚Äôm passing a dynamic date. But my first 25 Pok√©mons, starting with \u003Ca href=\"https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fbulbasaur\"\u003EBulbasaur\u003C\u002Fa\u003E and going up to \u003Ca href=\"https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fpikachu\"\u003EPikachu\u003C\u002Fa\u003E. They have a text \u003Ccode\u003EGenerated at\u003C\u002Fcode\u003E that will not revalidate at all (right now configured to re-validate at each 5 minutes \u003Ccode\u003Erevalidate: 60 * 5\u003C\u002Fcode\u003E in which it should change this date. But if you access any other Pok√©mon than the first 25, like the number 26, \u003Ca href=\"https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fraichu\"\u003ERaichu\u003C\u002Fa\u003E or the 186, \u003Ca href=\"https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fscizor\"\u003EScizor\u003C\u002Fa\u003E will be server-side generated at the time and you‚Äôll see the date of any time you accessing again, so no ISG. This feature was not advertised but since it was stable at 9.3+ and I did not found work and it happens you are after this, you‚Äôll need to wait or surprise me show-me what I‚Äôm getting wrong here because I would love to have ISG already üòÄ\u003C\u002Fp\u003E\n\n\u003Chr\u003E\n\n\u003Cp\u003EI also created a private first component for YouTube embeds if you plan to use something like this in your Next app, check it out:\u003C\u002Fp\u003E\n\n\n\u003Cdiv class=\"ltag__link\"\u003E\n  \u003Ca href=\"\u002Fibrahimcesar\" class=\"ltag__link__link\"\u003E\n    \u003Cdiv class=\"ltag__link__pic\"\u003E\n      \u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--kfkWRBf2--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--0zkQIbKi--\u002Fc_fill%2Cf_auto%2Cfl_progressive%2Ch_150%2Cq_auto%2Cw_150\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F189167\u002F695f3dd9-b865-4c57-a097-5cfe07cca488.jpg\" alt=\"ibrahimcesar\" loading=\"lazy\"\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fa\u003E\n  \u003Ca href=\"\u002Fibrahimcesar\u002Fwhy-i-made-my-open-source-react-component-private-by-default-an-open-source-story-1jja\" class=\"ltag__link__link\"\u003E\n    \u003Cdiv class=\"ltag__link__content\"\u003E\n      \u003Ch2\u003EWhy I made my open source React component private by default: an Open Source story\u003C\u002Fh2\u003E\n      \u003Ch3\u003EIbrahim Cesar „Éª May 18 „Éª 5 min read\u003C\u002Fh3\u003E\n      \u003Cdiv class=\"ltag__link__taglist\"\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#react\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#opensource\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#typescript\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#privacy\u003C\u002Fspan\u003E\n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fa\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EPlease leave your thoughts, takes and insights in the comments! Or problems if you have one or the solution to ISG!\u003C\u002Fp\u003E\n\n";c.body_markdown="No more waiting! It‚Äôs finally here, [AWS Amplify hosting for Next.js server-side rendering (SSR)](https:\u002F\u002Faws.amazon.com\u002Fabout-aws\u002Fwhats-new\u002F2021\u002F05\u002Faws-amplify-hosting-announces-server-side-rendering-support-for-next-js-web-apps\u002F).\n\n**Why this is great**: It‚Äôs no joke, I wait for this feature for _more than a year_. And is finally here and is fast!\n\n**Not so great**: Next 10.x.x was a huge leap forward. All things I wanted to try, right off the bat, and backed in my applications...But this will be on hold, as the time of writing, this launch only his support is for Next.js 9.x.x version. Considering version 10.x is from October 2020 I think the pace is a little slow to catchup.\n\nTo evaluate what type of rendering your application need, I recommend the post [Next.js: Server-side Rendering vs. Static Generation](https:\u002F\u002Fvercel.com\u002Fblog\u002Fnextjs-server-side-rendering-vs-static-generation) by [Lee Robinson](https:\u002F\u002Ftwitter.com\u002Fleeerob)‚Äîand in the _real world_ sometimes you‚Äôll need both.\n\n## The webapp\n\nFor all purposes, you could do with your app or create a boilerplate new [NextJS with SSR](https:\u002F\u002Fnextjs.org\u002Fdocs\u002Fbasic-features\u002Fpages#server-side-rendering). I created this barebones site that renders some info from the [Pok√©API](https:\u002F\u002Fpokeapi.co\u002F). This is the repository on GitHub:\n\n{% github https:\u002F\u002Fgithub.com\u002Fibrahimcesar\u002Fnextjs-ssr-amplify-aws %}\n\nYou can leave all build options as it is, because Amplify will automatically pick up as SSR and deploy it. For this to happen you also don‚Äôt need (or have to) choose a different export folder. If you clone my repo, you could check that I‚Äôm indeed using NextJS `10.0.0` but, I cannot use any additional feature like the new `Image` component.\n\n## Deploying\n\n### If you never used Amplify\n\nYou‚Äôll need to have the amplify [installed and configured](https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fstart\u002Finstall). Just follow the docs and you‚Äôll be ready to go. Or make sure you have the latest version.\n\n### Amplify Init\n\n```bash\n‚ùØ amplify init\nNote: It is recommended to run this command from the root of your app directory\n? Enter a name for the project pokessr\nThe following configuration will be applied:\nProject information\n| Name: pokessr\n| Environment: dev\n| Default editor: Visual Studio Code\n| App type: javascript\n| Javascript framework: react\n| Source Directory Path: src\n| Distribution Directory Path: build\n| Build Command: npm run-script build\n| Start Command: npm run-script start\n\n? Initialize the project with the above configuration? Yes\nUsing default provider  awscloudformation\n? Select the authentication method you want to use: AWS profile\nFor more information on AWS Profiles, see:\nhttps:\u002F\u002Fdocs.aws.amazon.com\u002Fcli\u002Flatest\u002Fuserguide\u002Fcli-configure-profiles.html\n\n? Please choose the profile you want to use amplify\n```\n\nBesides the name, `pokessr`, I only choose my profile to deploy, called `amplify` but you can deploy in whatever profile you configured. I accepted all defaults. Then amplify will create your environment:\n\n```\nAdding backend environment dev to AWS Amplify Console app: d31r520fbr96mj\n\n‚†ô Initializing project in the cloud...\n\nCREATE_IN_PROGRESS amplify-pokessr-dev-185133 AWS::CloudFormation::Stack Tue May 18 2021 18:51:41 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) User Initiated\nCREATE_IN_PROGRESS UnauthRole                 AWS::IAM::Role             Tue May 18 2021 18:51:45 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS AuthRole                   AWS::IAM::Role             Tue May 18 2021 18:51:45 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS DeploymentBucket           AWS::S3::Bucket            Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_IN_PROGRESS UnauthRole                 AWS::IAM::Role             Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\nCREATE_IN_PROGRESS AuthRole                   AWS::IAM::Role             Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\n\n‚†á Initializing project in the cloud...\n\nCREATE_IN_PROGRESS DeploymentBucket AWS::S3::Bucket Tue May 18 2021 18:51:46 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia) Resource creation Initiated\n\n‚†∏ Initializing project in the cloud...\n\nCREATE_COMPLETE AuthRole   AWS::IAM::Role Tue May 18 2021 18:51:59 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_COMPLETE UnauthRole AWS::IAM::Role Tue May 18 2021 18:51:59 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\n\n‚†π Initializing project in the cloud...\n\nCREATE_COMPLETE DeploymentBucket           AWS::S3::Bucket            Tue May 18 2021 18:52:08 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\nCREATE_COMPLETE amplify-pokessr-dev-185133 AWS::CloudFormation::Stack Tue May 18 2021 18:52:10 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)\n\n‚úî Successfully created initial AWS cloud resources for deployments.\n‚úî Initialized provider successfully.\n\nInitialized your environment successfully.\n\nYour project has been successfully initialized and connected to the cloud!\n\nSome next steps:\n\n‚Äúamplify status‚Äù will show you what you‚Äôve added already and if it‚Äôs locally configured or deployed\n‚Äúamplify add \u003Ccategory\u003E‚Äú will allow you to add features like user login or a backend API\n‚Äúamplify push‚Äù will build all your local backend resources and provision it in the cloud\n‚Äúamplify console‚Äù to open the Amplify Console and view your project status\n‚Äúamplify publish‚Äù will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud\n\nPro tip:\nTry ‚Äúamplify add api‚Äù to create a backend API and then ‚Äúamplify publish‚Äù to deploy everything\n```\n\nWhat we are going to use is `hosting`.\n\nAnd by zero configuration, you just need to connect your repository and the building settings will be set. \n\n![Build settings](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fnplnbf5sqsoy4mkvrb8k.png)\n\nAnd you can always have a look at how the build is going accessing the logs in the AWS Amplify console. For our purposes, see a `Starting SSR Build` in your logs:\n\n```bash\n2021-05-18T22:35:49.379Z [INFO]: info  - Creating an optimized production build...\n2021-05-18T22:35:58.592Z [INFO]: info  - Compiled successfully\n                                 info  - Collecting page data...\n2021-05-18T22:35:59.098Z [INFO]: info  - Generating static pages (0\u002F28)\n2021-05-18T22:35:59.480Z [INFO]: info  - Generating static pages (7\u002F28)\n2021-05-18T22:35:59.600Z [INFO]: info  - Generating static pages (14\u002F28)\n2021-05-18T22:35:59.706Z [INFO]: info  - Generating static pages (21\u002F28)\n2021-05-18T22:35:59.797Z [INFO]: info  - Generating static pages (28\u002F28)\n2021-05-18T22:35:59.797Z [INFO]: info  - Finalizing page optimization...\n2021-05-18T22:35:59.814Z [INFO]: \n2021-05-18T22:35:59.860Z [INFO]: Page                              Size     First Load JS\n                                 ‚îå Œª \u002F                             1.32 kB        68.7 kB\n                                 ‚îú   \u002F_app                         0 B            64.2 kB\n                                 ‚îú Œª \u002F[ditto]                      1.39 kB        68.7 kB\n                                 ‚îú ‚óã \u002F404                          2.76 kB        66.9 kB\n                                 ‚îú ‚óè \u002Fpokemons\u002F[name]              1.53 kB        68.9 kB\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fbulbasaur\n\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fivysaur\n\n                                 ‚îú   ‚îú \u002Fpokemons\u002Fvenusaur\n\n                                 ‚îú   ‚îî [+22 more paths]\n\n                                 ‚îî Œª \u002Frandom                       1.39 kB        68.7 kB\n                                 + First Load JS shared by all     64.2 kB\n                                 ‚îú chunks\u002Fcommons.b2f5db.js      13.5 kB\n                                 ‚îú chunks\u002Fframework.149f13.js    42 kB\n                                 ‚îú chunks\u002Fmain.e0d560.js         6.8 kB\n                                 ‚îú chunks\u002Fpages\u002F_app.9245f7.js   865 B\n                                 ‚îú chunks\u002Fwebpack.f82c36.js      950 B\n                                 ‚îî css\u002Fb8e1ed54af27c57535f7.css  897 B\n\n2021-05-18T22:35:59.861Z [INFO]: Œª  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n                                 ‚óã  (Static)  automatically rendered as static HTML (uses no initial props)\n                                 ‚óè  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n                                 (ISR)     incremental static regeneration (uses revalidate in getStaticProps)\n\n2021-05-18T22:35:59.993Z [INFO]: Starting SSR Build...\n2021-05-18T22:37:10.138Z [INFO]: SSR Build Complete.\n2021-05-18T22:37:11.159Z [INFO]: # Completed phase: build\n2021-05-18T22:37:11.159Z [INFO]: ## Build completed successfully\n```\n\nThen you gave to wait a couple of minutes and your application you be on your custom domain or in the generate domain of Amplify. For this demonstration my web apps is [available here](https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002F).\n\n### Pages\n\nThe front page is itself server side generated:\n\n```tsx\nexport const getServerSideProps: GetServerSideProps = async () =\u003E {\n  const data = await getPokemons()\n\n  return {\n    props: {\n      data\n    }\n  }\n}\n```\n\nIt will query in the Pok√©API and return all Pok√©mons until reaching the number or the maximum today. I placed `3000` but as you can check, the actual number today is `1118`.\n\nWhen you click in a Pok√©mon, I use a dynamic route in the file `ditto` to generate the Pok√©mon by the name. Pok√©mon fans will get the reference. And `[ditto].tsx` is also SSR.\n\n```tsx\nexport const getServerSideProps: GetServerSideProps = async (context) =\u003E {\n\n  let data;\n  const { ditto} = context.query\n\n  if (typeof ditto === ‚Äòstring‚Äô) {\n    data = await getPokemonData(ditto)\n  } else {\n    data = {}\n  }\n\n  return { props: { data } }\n\n}\n```\n\nBut for fun I created a `random` page... that renders a random Pok√©mons to test even better the SSR. It get all the possible Pok√©mons and returns one at random using `Math.random()`:\n\n```tsx\n\nexport const getServerSideProps: GetServerSideProps = async () =\u003E {\n\n  const random = await getPokemons() as Pokedex\n  const ditto = random.results[random.results.length * Math.random() | 0].name\n\n  let data;\n  if (typeof ditto === ‚Äòstring‚Äô) {\n    data = await getPokemonData(ditto)\n  } else {\n    data = {}\n  }\n\n  return {\n    props: {\n      data\n    }\n  }\n}\n```\n\nAnd to test ISG (Incremental Static Generation) I created a folder called `pokemons`. [Stable static generation was added to Next 9.3](https:\u002F\u002Fnextjs.org\u002Fblog\u002Fnext-9-5#stable-incremental-static-regeneration) but my test doesn‚Äôt show that works right now with the Amplify SSR hosting, it defaults to the SSR. ISG is a mechanism to update existing pages, by re-rendering them in the background as traffic comes in using the property `revalidate`. Also, another great use is, per example, you have a specific dataset of pages to generate at build time but you‚Äôll need on dynamic routes to be generated new pages as soon you publish another in your headless CMS or database. [ISG generated even a bounty as feature in another project](https:\u002F\u002Fgithub.com\u002Fserverless-nextjs\u002Fserverless-next.js\u002Fissues\u002F804) and unlocks a lot of interesting use cases.\n\n```tsx\nexport const getStaticProps: GetStaticProps = async (context) =\u003E {\n  let data\n  if (context.params) {\n    data = await getPokemonData(context.params.name as string)\n  } else {\n    data = {}\n  }\n\n  return {\n    props: {\n      data,\n      date: new Date().toISOString(),\n    },\n    revalidate: 60 * 5\n  }\n};\n\nexport const getStaticPaths: GetStaticPaths\u003C{ name: string }\u003E = async () =\u003E {\n\n  const pokemons = await getPokemons(25) as Pokedex\n\n  const paths = pokemons.results.map((pokemon) =\u003E {\n    return { params: { name: pokemon.name.toString() } }\n\n  })\n\n  return {\n    fallback: true,\n    paths,\n  }\n\n};\n```\n\nFor my example, I generate at build time the first 25 Pok√©mons. See that my props are changing, I‚Äôm passing a dynamic date. But my first 25 Pok√©mons, starting with [Bulbasaur](https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fbulbasaur) and going up to [Pikachu](https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fpikachu). They have a text `Generated at` that will not revalidate at all (right now configured to re-validate at each 5 minutes `revalidate: 60 * 5` in which it should change this date. But if you access any other Pok√©mon than the first 25, like the number 26, [Raichu](https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fraichu) or the 186, [Scizor](https:\u002F\u002Fmain.d31r520fbr96mj.amplifyapp.com\u002Fpokemons\u002Fscizor) will be server-side generated at the time and you‚Äôll see the date of any time you accessing again, so no ISG. This feature was not advertised but since it was stable at 9.3+ and I did not found work and it happens you are after this, you‚Äôll need to wait or surprise me show-me what I‚Äôm getting wrong here because I would love to have ISG already üòÄ\n\n-----\n\nI also created a private first component for YouTube embeds if you plan to use something like this in your Next app, check it out:\n\n{% link https:\u002F\u002Fdev.to\u002Fibrahimcesar\u002Fwhy-i-made-my-open-source-react-component-private-by-default-an-open-source-story-1jja %}\n\nPlease leave your thoughts, takes and insights in the comments! Or problems if you have one or the solution to ISG!";c.user={name:"Ibrahim Cesar",username:b,twitter_username:b,github_username:b,website_url:"https:\u002F\u002Fibrahimcesar.cloud",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--O0ERiLJN--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F189167\u002F695f3dd9-b865-4c57-a097-5cfe07cca488.jpg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--lll6uDbZ--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F189167\u002F695f3dd9-b865-4c57-a097-5cfe07cca488.jpg"};c.organization={name:"AWS Community Builders ",username:f,slug:f,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--zmOZQNzv--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2794\u002F88da75b6-aadd-4ea1-8083-ae2dfca8be94.png",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--vWmcJ-ty--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2794\u002F88da75b6-aadd-4ea1-8083-ae2dfca8be94.png"};return {data:[{}],fetch:{"data-v-25febe66:0":{article:c}},mutations:[["SET_CURRENT_ARTICLE",c]]}}("2021-05-18T23:31:45Z","ibrahimcesar",{},38,null,"aws-builders")));