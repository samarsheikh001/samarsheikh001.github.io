window.__NUXT__=(function(a,b,c,d){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634322943",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:514923,title:"WSL vs plain old VirtualBox",description:"So, I have been using WSL2 on Windows 10 for a while; and I have made a few complaints. The latest on...",readable_publish_date:"Nov 14 '20",slug:"wsl-vs-plain-old-virtualbox-2fm4",path:"\u002Fpatarapolw\u002Fwsl-vs-plain-old-virtualbox-2fm4",url:"https:\u002F\u002Fdev.to\u002Fpatarapolw\u002Fwsl-vs-plain-old-virtualbox-2fm4",comments_count:5,public_reactions_count:d,collection_id:a,published_timestamp:b,positive_reactions_count:d,cover_image:a,social_image:"https:\u002F\u002Fdev.to\u002Fsocial_previews\u002Farticle\u002F514923.png",canonical_url:"https:\u002F\u002Fwww.polv.cc\u002Fpost\u002F2020\u002F11\u002Fwsl-vs-virtualbox",created_at:b,edited_at:"2020-11-14T23:31:00Z",crossposted_at:a,published_at:b,last_comment_at:"2020-11-14T23:23:36Z",reading_time_minutes:2,tag_list:"wsl, windows, linux, virtualbox",tags:["wsl","windows","linux","virtualbox"],body_html:"\u003Cp\u003ESo, I have been using WSL2 on Windows 10 for a while; and I have made a few complaints. The latest one is.\u003C\u002Fp\u003E\n\n\n\u003Cdiv class=\"ltag__link\"\u003E\n  \u003Ca href=\"\u002Fpatarapolw\" class=\"ltag__link__link\"\u003E\n    \u003Cdiv class=\"ltag__link__pic\"\u003E\n      \u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--DJGsyVmd--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--lSKL6-gR--\u002Fc_fill%2Cf_auto%2Cfl_progressive%2Ch_150%2Cq_auto%2Cw_150\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F260982\u002F69638b66-0638-4136-859c-5c87f8e9562a.jpeg\" alt=\"patarapolw image\" loading=\"lazy\"\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fa\u003E\n  \u003Ca href=\"\u002Fpatarapolw\u002Fcan-t-get-fcitx-to-work-in-wsl2-also-win10-multilingual-input-method-sucks-169f\" class=\"ltag__link__link\"\u003E\n    \u003Cdiv class=\"ltag__link__content\"\u003E\n      \u003Ch2\u003ECan't get fcitx to work in WSL2. Also, Win10 multilingual input method sucks, nor does it work with WSL\u003C\u002Fh2\u003E\n      \u003Ch3\u003EPacharapol Withayasakpunt ・ Nov 14 ・ 1 min read\u003C\u002Fh3\u003E\n      \u003Cdiv class=\"ltag__link__taglist\"\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#wsl\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#linux\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#windows\u003C\u002Fspan\u003E\n        \u003Cspan class=\"ltag__link__tag\"\u003E#help\u003C\u002Fspan\u003E\n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fa\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EAnother major complaint is\u003C\u002Fp\u003E\n\n\n\u003Cdiv class=\"ltag_github-liquid-tag\"\u003E\n  \u003Ch1\u003E\n    \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166\"\u003E\n      \u003Cimg class=\"github-logo\" alt=\"GitHub logo\" src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--vJ70wriM--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fpracticaldev-herokuapp-com.freetls.fastly.net\u002Fassets\u002Fgithub-logo-ba8488d21cd8ee1fee097b8410db9deaa41d0ca30b004c0c63de0a479114156f.svg\" loading=\"lazy\"\u003E\n      \u003Cspan class=\"issue-title\"\u003E\n        WSL 2 consumes massive amounts of RAM and doesn't return it\n      \u003C\u002Fspan\u003E\n      \u003Cspan class=\"issue-number\"\u003E#4166\u003C\u002Fspan\u003E\n    \u003C\u002Fa\u003E\n  \u003C\u002Fh1\u003E\n  \u003Cdiv class=\"github-thread\"\u003E\n    \u003Cdiv class=\"timeline-comment-header\"\u003E\n      \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FLordMonoxide\"\u003E\n        \u003Cimg class=\"github-liquid-tag-img\" src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--ZZUCR-6r--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Favatars0.githubusercontent.com\u002Fu\u002F437657%3Fv%3D4\" alt=\"LordMonoxide avatar\" loading=\"lazy\"\u003E\n      \u003C\u002Fa\u003E\n      \u003Cdiv class=\"timeline-comment-header-text\"\u003E\n        \u003Cstrong\u003E\n          \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FLordMonoxide\"\u003ELordMonoxide\u003C\u002Fa\u003E\n        \u003C\u002Fstrong\u003E posted on \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166\"\u003E\u003Ctime datetime=\"2019-06-17T14:44:01Z\"\u003EJun 17, 2019\u003C\u002Ftime\u003E\u003C\u002Fa\u003E\n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv class=\"ltag-github-body\"\u003E\n      \u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EYour Windows build number: 18917\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EWhat's wrong \u002F what should be happening instead: WSL 2 starts using huge amounts of RAM after a while, just using it like normal.  At the moment I'm using phpstorm, and did a dump\u002Fload of a database.  \u003Ccode\u003EVmmem\u003C\u002Fcode\u003E is using 7 GB of my 16 GB of RAM and not returning any, even though Ubuntu is actually using much less.  I have seen it grow until nearly 100% of my system memory is in use, and it will not release it until I shut down the WSL 2 VM.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThis may or may not be related to #4159\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Ecorey@Corey-Laptop:\u002Fmnt\u002Fc\u002FWINDOWS\u002Fsystem32$ vmstat -s\n     15235516 K total memory\n       920348 K used memory\n      1886048 K active memory\n      6434312 K inactive memory\n      6606548 K free memory\n        76280 K buffer memory\n      7632340 K swap cache\n            0 K total swap\n            0 K used swap\n            0 K free swap\n       163729 non-nice user cpu ticks\n          298 nice user cpu ticks\n        13177 system cpu ticks\n     68988300 idle cpu ticks\n         8962 IO-wait cpu ticks\n            0 IRQ cpu ticks\n        10022 softirq cpu ticks\n            0 stolen cpu ticks\n      1481417 pages paged in\n      6792976 pages paged out\n            0 pages swapped in\n            0 pages swapped out\n      1079177 interrupts\n      5131981 CPU context switches\n   1560599814 boot time\n         8772 forks\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv class=\"gh-btn-container\"\u003E\u003Ca class=\"gh-btn\" href=\"https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166\"\u003EView on GitHub\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003ELuckily, I upgraded my laptop from 8GB to 16GB in advance. \u003Cstrong\u003EIt uses 8GB RAM at baseline. However, there is no real performance delay.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--E2gDtRPZ--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fi\u002F2ma7rxiqirbqh4iby8pk.jpg\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--E2gDtRPZ--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fi\u002F2ma7rxiqirbqh4iby8pk.jpg\" alt=\"RAM used\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003ECompared to my real Linux-first laptop (Ubuntu GNOME 3), which uses less than 1GB RAM (total 8GB RAM - yes, \u003Ca href=\"https:\u002F\u002Fwww.polv.cc\u002Fpost\u002F2020\u002F09\u002Fmac-triple-boot\"\u003Ethat triple-booted 8-year-old MacBook Pro\u003C\u002Fa\u003E).\u003C\u002Fp\u003E\n\n\u003Cp\u003ESo, I decided to visit my old friend, VirtualBox.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"virtualbox-advantages-and-cons\" href=\"#virtualbox-advantages-and-cons\" class=\"anchor\"\u003E\n  \u003C\u002Fa\u003E\n  VirtualBox advantages (and cons)\n\u003C\u002Fh2\u003E\n\n\u003Cul\u003E\n\u003Cli\u003EGraphics and input method engines are all decent and reliable. (Forgot to say that \u003Cstrong\u003Esound doesn't work in WSL2\u003C\u002Fstrong\u003E's X410, but does work in VirtualBox.)\u003C\u002Fli\u003E\n\u003Cli\u003ETrue sandboxing. Better security.\n\n\u003Cul\u003E\n\u003Cli\u003EOf course, a big pro\u002Fcon of WSL2, is that \u003Cstrong\u003Eyou can access filesystem, bidirectionally to-and-from Windows\u003C\u002Fstrong\u003E. (to-WSL: SSH; from-WSL: network drive)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Cp\u003EWSL2 does have some unique cons.\u003C\u002Fp\u003E\n\n\u003Cul\u003E\n\u003Cli\u003EWeb development in WSL2, when opening a server port - \u003Ca href=\"https:\u002F\u002Fdev.to\u002Fpatarapolw\u002Fcomment\u002F181l1\"\u003Ethe port increases by one in Windows, e.g. 8080 =&gt; 8081\u003C\u002Fa\u003E. None of these shit in VirtualBox.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Ccode\u003Esystemd\u003C\u002Fcode\u003E, and perhaps many other default daemons, does not run at all in WSL2. You cannot always expect things to work the same way as plain old Linux.\n\n\u003Cul\u003E\n\u003Cli\u003EThis also includes, \u003Ca href=\"https:\u002F\u002Fdocs.docker.com\u002Fdocker-for-windows\u002Fwsl\u002F\"\u003Ehow to install Docker in WSL2\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003EGUI, even with the best xrdp or X410 (or VcXsrv), throws error often. Input method engines do not work.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Cp\u003EOf course, VirtualBox comes with the same old cons.\u003C\u002Fp\u003E\n\n\u003Cul\u003E\n\u003Cli\u003EHarder to set up to be performant. Have to manually allocate not only RAM and hard disk space; but also CPU's and \u003Cstrong\u003Eeven BIOS settings sometimes\u003C\u002Fstrong\u003E.\n\n\u003Cul\u003E\n\u003Cli\u003EEverything is automated and defaulted in WSL2. You don't have to set up anything to be performant. (You might want to \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166\"\u003Elimit RAM usage\u003C\u002Fa\u003E, though.)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003EI still cannot figure \u003Cstrong\u003Ea way to access WSL2 from VirtualBox\u003C\u002Fstrong\u003E. Network drives cannot be accessed from VirtualBox shared folders.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"conclusions\" href=\"#conclusions\" class=\"anchor\"\u003E\n  \u003C\u002Fa\u003E\n  Conclusions\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EWhy not install both?\u003C\u002Fp\u003E\n\n\u003Cp\u003EI am starting to think that, if your PC is powerful enough, use VirtualBox first. But do install WSL2, for the sake of Docker.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAlso, consider working at the level of Natively Windows.\u003C\u002Fp\u003E\n\n",body_markdown:"So, I have been using WSL2 on Windows 10 for a while; and I have made a few complaints. The latest one is.\n\n{% post https:\u002F\u002Fdev.to\u002Fpatarapolw\u002Fcan-t-get-fcitx-to-work-in-wsl2-also-win10-multilingual-input-method-sucks-169f %}\n\nAnother major complaint is\n\n{% github https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166 %}\n\nLuckily, I upgraded my laptop from 8GB to 16GB in advance. **It uses 8GB RAM at baseline. However, there is no real performance delay.**\n\n![RAM used](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fi\u002F2ma7rxiqirbqh4iby8pk.jpg)\n\nCompared to my real Linux-first laptop (Ubuntu GNOME 3), which uses less than 1GB RAM (total 8GB RAM - yes, [that triple-booted 8-year-old MacBook Pro](https:\u002F\u002Fwww.polv.cc\u002Fpost\u002F2020\u002F09\u002Fmac-triple-boot)).\n\nSo, I decided to visit my old friend, VirtualBox.\n\n## VirtualBox advantages (and cons)\n\n- Graphics and input method engines are all decent and reliable. (Forgot to say that **sound doesn't work in WSL2**'s X410, but does work in VirtualBox.)\n- True sandboxing. Better security.\n  - Of course, a big pro\u002Fcon of WSL2, is that **you can access filesystem, bidirectionally to-and-from Windows**. (to-WSL: SSH; from-WSL: network drive)\n\nWSL2 does have some unique cons.\n\n- Web development in WSL2, when opening a server port - [the port increases by one in Windows, e.g. 8080 =\u003E 8081](https:\u002F\u002Fdev.to\u002Fpatarapolw\u002Fcomment\u002F181l1). None of these shit in VirtualBox.\n- `systemd`, and perhaps many other default daemons, does not run at all in WSL2. You cannot always expect things to work the same way as plain old Linux.\n  - This also includes, [how to install Docker in WSL2](https:\u002F\u002Fdocs.docker.com\u002Fdocker-for-windows\u002Fwsl\u002F).\n- GUI, even with the best xrdp or X410 (or VcXsrv), throws error often. Input method engines do not work.\n\nOf course, VirtualBox comes with the same old cons.\n\n- Harder to set up to be performant. Have to manually allocate not only RAM and hard disk space; but also CPU's and **even BIOS settings sometimes**.\n  - Everything is automated and defaulted in WSL2. You don't have to set up anything to be performant. (You might want to [limit RAM usage](https:\u002F\u002Fgithub.com\u002Fmicrosoft\u002FWSL\u002Fissues\u002F4166), though.)\n- I still cannot figure **a way to access WSL2 from VirtualBox**. Network drives cannot be accessed from VirtualBox shared folders.\n\n## Conclusions\n\nWhy not install both?\n\nI am starting to think that, if your PC is powerful enough, use VirtualBox first. But do install WSL2, for the sake of Docker.\n\nAlso, consider working at the level of Natively Windows.\n",user:{name:"Pacharapol Withayasakpunt",username:c,twitter_username:c,github_username:c,website_url:"https:\u002F\u002Fwww.polv.cc",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--Cx4pV5gv--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F260982\u002F69638b66-0638-4136-859c-5c87f8e9562a.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--lyWxkuxM--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F260982\u002F69638b66-0638-4136-859c-5c87f8e9562a.jpeg"}}},serverRendered:true,routePath:"\u002Farticles\u002Fpatarapolw\u002F514923",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"2020-11-14T17:27:26Z","patarapolw",9));