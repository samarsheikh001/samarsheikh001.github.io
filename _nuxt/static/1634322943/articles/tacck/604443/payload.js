__NUXT_JSONP__("/articles/tacck/604443", (function(a,b,c,d,e,f){d.type_of="article";d.id=604443;d.title="AWS Amplify Subscriptions Usage \u002F 3. Closed Chat";d.description="Previous articles are \"Open Chat\", this means \"Not authenticated users can post and read\".  Then, thi...";d.readable_publish_date="Feb 16";d.slug="aws-amplify-subscriptions-usage-3-closed-chat-35mk";d.path="\u002Ftacck\u002Faws-amplify-subscriptions-usage-3-closed-chat-35mk";d.url=e;d.comments_count=0;d.public_reactions_count=f;d.collection_id=11192;d.published_timestamp=a;d.positive_reactions_count=f;d.cover_image=b;d.social_image="https:\u002F\u002Fdev.to\u002Fsocial_previews\u002Farticle\u002F604443.png";d.canonical_url=e;d.created_at="2021-02-15T13:04:27Z";d.edited_at=b;d.crossposted_at=b;d.published_at=a;d.last_comment_at=a;d.reading_time_minutes=10;d.tag_list="aws, amplify, vue, graphql";d.tags=["aws","amplify","vue","graphql"];d.body_html="\u003Cp\u003EPrevious articles are \"Open Chat\", this means \"Not authenticated users can post and read\".\u003C\u002Fp\u003E\n\n\u003Cp\u003EThen, this article shows \"Closed Chat\".\u003C\u002Fp\u003E\n\n\u003Cp\u003EFirst, we just use \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive.\u003Cbr\u003E\nSecond, we add a Subscription type with an argument.\u003Cbr\u003E\nThird, we update both \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and a Subscription type.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Cstrong\u003ETOC\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"table-wrapper-paragraph\"\u003E\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003ESection\u003C\u002Fth\u003E\n\u003Cth\u003ETitle\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E3.1\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ca href=\"#section-3-1\"\u003EUse \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and perform Authentication\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E3.2\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ca href=\"#section-3-2\"\u003EAdd a Subscription type with an argument\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E3.3\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ca href=\"#section-3-3\"\u003EClosed post, Open read chat (Update both \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and a Subscription)\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ca name=\"section-3-1\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"31-use-raw-auth-endraw-directive-and-perform-authentication\" href=\"#31-use-raw-auth-endraw-directive-and-perform-authentication\"\u003E\n  \u003C\u002Fa\u003E\n  3.1 Use \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and perform Authentication\n\u003C\u002Fh2\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"add-and-use-auth\" href=\"#add-and-use-auth\"\u003E\n  \u003C\u002Fa\u003E\n  Add and use auth\n\u003C\u002Fh3\u003E\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify add auth\nScanning \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Eplugins...\nPlugin scan successful\n\nUsing service: Cognito, provided by: awscloudformation\n\n The current configured provider is Amazon Cognito. \n\n Do you want to use the default authentication and security configuration? Default configuration\n Warning: you will not be able to edit these selections. \n How \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Eyou want \u003Cspan class=\"nb\"\u003Eusers \u003C\u002Fspan\u003Eto be able to sign \u003Cspan class=\"k\"\u003Ein\u003C\u002Fspan\u003E? Username\n Do you want to configure advanced settings? No, I am \u003Cspan class=\"k\"\u003Edone\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003E.\u003C\u002Fspan\u003E\nSuccessfully added auth resource sampleamplifysubscriXXXXXXXX locally\n\nSome next steps:\n\u003Cspan class=\"s2\"\u003E\"amplify push\"\u003C\u002Fspan\u003E will build all your \u003Cspan class=\"nb\"\u003Elocal \u003C\u002Fspan\u003Ebackend resources and provision it \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\u003Cspan class=\"s2\"\u003E\"amplify publish\"\u003C\u002Fspan\u003E will build all your \u003Cspan class=\"nb\"\u003Elocal \u003C\u002Fspan\u003Ebackend and frontend resources \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eif \u003C\u002Fspan\u003Eyou have hosting category added\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E and provision it \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\u003Cp\u003EAnd, push project.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify push\n\n\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| \u003Cspan class=\"nt\"\u003E--------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E----------------------------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E---------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E-----------------\u003C\u002Fspan\u003E |\n| Auth     | sampleamplifysubscriXXXXXXXX | Create    | awscloudformation |\n| Api      | sampleamplifysubscri         | No Change | awscloudformation |\n? Are you sure you want to \u003Cspan class=\"k\"\u003Econtinue\u003C\u002Fspan\u003E? Yes\n⠙ Updating resources \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud. This may take a few minutes...\n\n\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Esnip\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n✔ All resources are updated \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\n\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThen, update api.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify update api\n? Please \u003Cspan class=\"k\"\u003Eselect \u003C\u002Fspan\u003Efrom one of the below mentioned services: GraphQL\n? Select from the options below Update auth settings\n? Choose the default authorization \u003Cspan class=\"nb\"\u003Etype \u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Ethe API Amazon Cognito User Pool\nUse a Cognito user pool configured as a part of this project.\n? Configure additional auth types? No\n\nThe following types \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Enot have \u003Cspan class=\"s1\"\u003E'@auth'\u003C\u002Fspan\u003E enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ea directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\nThe API_KEY auth \u003Cspan class=\"nb\"\u003Etype \u003C\u002Fspan\u003Ehas been removed from the API.\nIf other resources depend on this API, run \u003Cspan class=\"s2\"\u003E\"amplify update &lt;category&gt;\"\u003C\u002Fspan\u003E and reselect this API to remove the dependency on the API key.\n⚠️  This must be \u003Cspan class=\"k\"\u003Edone \u003C\u002Fspan\u003Ebefore running \u003Cspan class=\"s2\"\u003E\"amplify push\"\u003C\u002Fspan\u003E to prevent a push failure\nSuccessfully updated resource\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThis mean, we can use \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and can only use \u003Ccode\u003EuserPools\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EUpdate graphql schema file.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\"\u003Eamplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\u003C\u002Fa\u003E\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight graphql\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ECloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eauth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Erules\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eallow\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eowner\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EuserPools\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EID\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAnd, push project again.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| \u003Cspan class=\"nt\"\u003E--------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E----------------------------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E---------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E-----------------\u003C\u002Fspan\u003E |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to \u003Cspan class=\"k\"\u003Econtinue\u003C\u002Fspan\u003E? Yes\n\nThe following types \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Enot have \u003Cspan class=\"s1\"\u003E'@auth'\u003C\u002Fspan\u003E enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ea directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Eyour updated GraphQL API Yes\n? Do you want to generate GraphQL statements \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Equeries, mutations and subscription\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠴ Updating resources \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud. This may take a few minutes...\n\n\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Esnip\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n✔ Generated GraphQL operations successfully and saved at src\u002Fgraphql\n✔ All resources are updated \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\n\n\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch3\u003E\n  \u003Ca name=\"implement-signin-page\" href=\"#implement-signin-page\"\u003E\n  \u003C\u002Fa\u003E\n  Implement Sign-in page.\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EPlease see official document.\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fdocs.amplify.aws\u002Fui\u002Fauth\u002Fauthenticator\u002Fq\u002Fframework\u002Fvue\"\u003Ehttps:\u002F\u002Fdocs.amplify.aws\u002Fui\u002Fauth\u002Fauthenticator\u002Fq\u002Fframework\u002Fvue\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EAnd this code.\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FSignIn.vue\"\u003Esrc\u002Fviews\u002FSignIn.vue\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"implement-closed-chat-page\" href=\"#implement-closed-chat-page\"\u003E\n  \u003C\u002Fa\u003E\n  Implement Closed Chat page.\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FCloseChat.vue\"\u003Esrc\u002Fviews\u002FCloseChat.vue\u003C\u002Fa\u003E\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight vue\"\u003E\u003Ccode\u003E\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nt\"\u003E&lt;v-container&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-row&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"12\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-card&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-card-title&gt;\u003C\u002Fspan\u003EMulti-room Close Chat\u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card-title&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-card-text\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003EOnly authenticated users can use this chat. All subscriptions are\n            received.\n          \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card-text&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-row&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"12\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-text-field\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"inputMessage\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Elabel=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"New Message\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eoutlined\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eclearable\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eappend-outer-icon=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"mdi-send\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Eclick:append-outer=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"sendMessage\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&gt;&lt;\u002Fv-text-field&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-tabs\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"roomName\"\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ebackground-color=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"primary\"\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ecenter-active\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ecentered\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Edark\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-tab\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Ev-for=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"(room, index) in rooms\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003E:key=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"index\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003E:href=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"'#' + room\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Eclick=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"setSubscribeByRoomName(room)\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E \u003Cspan class=\"si\"\u003E}}\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tab\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tabs&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-card\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eflat\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-tabs-items\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"roomName\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-tab-item\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ev-for=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"(room, index) in rooms\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:key=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"index\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:value=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"room\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-row\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eclass=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"pa-2\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"6\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&lt;ChatList\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Etitle=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Input\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:list=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"messages[room]\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;&lt;\u002FChatList&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"6\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&lt;ChatList\u003C\u002Fspan\u003E\n                \u003Cspan class=\"na\"\u003Etitle=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Subscriptions\"\u003C\u002Fspan\u003E\n                \u003Cspan class=\"na\"\u003E:list=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"subscriptionMessages[room]\"\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&gt;&lt;\u002FChatList&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tab-item&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tabs-items&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-container&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAuth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eaws-amplify\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fgraphql\u002Fmutations\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EonCreateCloseRoomChat\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fgraphql\u002Fsubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EChatList\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fcomponents\u002FChatList\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Ecomponents\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EChatList\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Euser\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EinputMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Erooms\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Emessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EsubscriptionMessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Ecreated\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Euser\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAuth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcurrentUserInfo\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsetSubscribeByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003EbeforeDestroy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Emethods\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003EsendMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egraphql\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinputMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}),\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epush\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinputMessage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EsetSubscribeByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egraphql\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eowner\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Euser\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eusername\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}),\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Enext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsubscriptionMessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\n          \u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epush\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erooms\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EforEach\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eunsubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Estyle\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Estyle\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cblockquote\u003E\n\u003Cp\u003ESee other files:\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-1-close-chat\"\u003Ehttps:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-1-close-chat\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EThe important point is here.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight vue\"\u003E\u003Ccode\u003E(snip)\n\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\nimport { createCloseRoomChat } from '@\u002Fgraphql\u002Fmutations'\nimport { onCreateCloseRoomChat } from '@\u002Fgraphql\u002Fsubscriptions'\n\n(snip)\n\n  created: async function() {\n    this.user = await Auth.currentUserInfo()\n    this.setSubscribeByRoomName('room1')\n  },\n\n(snip)\n\n    sendMessage: async function() {\n      const message = await API.graphql(\n        graphqlOperation(createCloseRoomChat, {\n...\n      this.messages[this.roomName].push(message.data.createCloseRoomChat)\n...\n\n(snip)\n\n    setSubscribeByRoomName(roomName) {\n      this.clearSubscriptions()\n\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChat, { owner: this.user.username }),\n...\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChat.roomName\n          ].push(value.data.onCreateCloseRoomChat)\n...\n\n(snip)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Ccode\u003EcreateCloseRoomChat\u003C\u002Fcode\u003E use same as \u003Ccode\u003EcreateRoomChat\u003C\u002Fcode\u003E used previous article.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ccode\u003EonCreateCloseRoomChat\u003C\u002Fcode\u003E use instead of \u003Ccode\u003EonCreateRoomChat\u003C\u002Fcode\u003E used previous article.\u003Cbr\u003E\nAnd, \u003Ccode\u003EonCreateCloseRoomChat\u003C\u002Fcode\u003E needs with argument \u003Ccode\u003Eowner\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ccode\u003Eowner\u003C\u002Fcode\u003E information is got like this.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight plaintext\"\u003E\u003Ccode\u003Ethis.user = await Auth.currentUserInfo()\nthis.user.username \u002F\u002F your sign-in username\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAnyway, now we can check our first \"Closed Chat\".\u003Cbr\u003E\nBut when you try this, You may be a little disappointed.\u003C\u002Fp\u003E\n\n\u003Cp\u003EYou post message and receive your own message.\u003C\u002Fp\u003E\n\n\u003Cp\u003ENext, you open another browser, sign-in another user, open \"Closed Chat\", then post message.\u003C\u002Fp\u003E\n\n\u003Cp\u003EYou can't receive another message on original browser.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca name=\"section-3-2\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"32-add-a-subscription-type-with-an-argument\" href=\"#32-add-a-subscription-type-with-an-argument\"\u003E\n  \u003C\u002Fa\u003E\n  3.2 Add a Subscription type with an argument\n\u003C\u002Fh2\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"update-graphql-schema\" href=\"#update-graphql-schema\"\u003E\n  \u003C\u002Fa\u003E\n  Update graphql schema\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003ESo, we add a Subscription type with an argument \u003Ccode\u003EroomName\u003C\u002Fcode\u003E like \u003Ccode\u003EonCreateRoomChatByRoomName\u003C\u002Fcode\u003E that added by previous article.\u003C\u002Fp\u003E\n\n\u003Cp\u003EUpdate graphql schema file.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-2-multi-room-close-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\"\u003Eamplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\u003C\u002Fa\u003E\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight graphql\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ESubscription\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EonCreateRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!):\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ERoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaws_subscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emutations\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcreateRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!):\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ECloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaws_subscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emutations\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAnd, push project.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| \u003Cspan class=\"nt\"\u003E--------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E----------------------------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E---------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E-----------------\u003C\u002Fspan\u003E |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to \u003Cspan class=\"k\"\u003Econtinue\u003C\u002Fspan\u003E? Yes\n\nThe following types \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Enot have \u003Cspan class=\"s1\"\u003E'@auth'\u003C\u002Fspan\u003E enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ea directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Eyour updated GraphQL API Yes\n? Do you want to generate GraphQL statements \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Equeries, mutations and subscription\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠴ Updating resources \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud. This may take a few minutes...\n\n\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Esnip\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n✔ All resources are updated \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\n\n\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch3\u003E\n  \u003Ca name=\"update-closed-chat\" href=\"#update-closed-chat\"\u003E\n  \u003C\u002Fa\u003E\n  Update Closed Chat\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FCloseChat.vue\"\u003Esrc\u002Fviews\u002FCloseChat.vue\u003C\u002Fa\u003E\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight vue\"\u003E\u003Ccode\u003E\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nt\"\u003E&lt;v-container&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-row&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"12\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-card&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-card-title&gt;\u003C\u002Fspan\u003EMulti-room Close Chat\u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card-title&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-card-text\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003EOnly authenticated users can use this chat. All subscriptions are\n            received.\n          \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card-text&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-row&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"12\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-text-field\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"inputMessage\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Elabel=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"New Message\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eoutlined\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eclearable\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Eappend-outer-icon=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"mdi-send\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Eclick:append-outer=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"sendMessage\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&gt;&lt;\u002Fv-text-field&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-tabs\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"roomName\"\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ebackground-color=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"primary\"\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ecenter-active\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ecentered\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Edark\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-tab\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Ev-for=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"(room, index) in rooms\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003E:key=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"index\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003E:href=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"'#' + room\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Eclick=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"setSubscribeByRoomName(room)\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E \u003Cspan class=\"si\"\u003E}}\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tab\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tabs&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;v-card\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eflat\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;v-tabs-items\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ev-model=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"roomName\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;v-tab-item\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ev-for=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"(room, index) in rooms\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:key=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"index\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:value=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"room\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;v-row\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Eclass=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"pa-2\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"6\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&lt;ChatList\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Etitle=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Input\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003E:list=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"messages[room]\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;&lt;\u002FChatList&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;v-col\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecols=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"6\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&lt;ChatList\u003C\u002Fspan\u003E\n                \u003Cspan class=\"na\"\u003Etitle=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Subscriptions\"\u003C\u002Fspan\u003E\n                \u003Cspan class=\"na\"\u003E:list=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"subscriptionMessages[room]\"\u003C\u002Fspan\u003E\n              \u003Cspan class=\"nt\"\u003E&gt;&lt;\u002FChatList&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-col&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-row&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tab-item&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-tabs-items&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-card&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nt\"\u003E&lt;\u002Fv-container&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAuth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eaws-amplify\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fgraphql\u002Fmutations\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fgraphql\u002Fsubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EChatList\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E@\u002Fcomponents\u002FChatList\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Ecomponents\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EChatList\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Euser\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EinputMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Erooms\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Emessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EsubscriptionMessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[],\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eroom2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Ecreated\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Euser\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAuth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcurrentUserInfo\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsetSubscribeByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eroom1\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003EbeforeDestroy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Emethods\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003EsendMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egraphql\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinputMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}),\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epush\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinputMessage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EsetSubscribeByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EAPI\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egraphql\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nx\"\u003EgraphqlOperation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"na\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}),\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Enext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EsubscriptionMessages\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EroomName\u003C\u002Fspan\u003E\n          \u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epush\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EclearSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erooms\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EforEach\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E].\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eunsubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonCreateMultiRoomChatSubscriptions\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enull\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Estyle\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Estyle\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cblockquote\u003E\n\u003Cp\u003ESee other files:\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-2-multi-room-close-chat\"\u003Ehttps:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-2-multi-room-close-chat\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EThe important point is here.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight vue\"\u003E\u003Ccode\u003E(snip)\n\nimport { onCreateCloseRoomChatByRoomName } from '@\u002Fgraphql\u002Fsubscriptions'\n\n(snip)\n\n    setSubscribeByRoomName(roomName) {\n...\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChatByRoomName, {\n          roomName: roomName,\n        }),\n...\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChatByRoomName.roomName\n          ].push(value.data.onCreateCloseRoomChatByRoomName)\n...\n\n(snip)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Ccode\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fcode\u003E use same as \u003Ccode\u003EonCreateRoomChatByRoomName\u003C\u002Fcode\u003E used previous article.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAnd, \u003Ccode\u003EonCreateRoomChatByRoomName\u003C\u002Fcode\u003E needs with argument \u003Ccode\u003EroomName\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EYou try this program, you can receive another user's message.\u003C\u002Fp\u003E\n\n\u003Cp\u003EThis mean, \"only authorized users can post and read this chat room.\"\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca name=\"section-3-3\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"33-closed-post-open-read-chat-update-both-raw-auth-endraw-directive-and-a-subscription\" href=\"#33-closed-post-open-read-chat-update-both-raw-auth-endraw-directive-and-a-subscription\"\u003E\n  \u003C\u002Fa\u003E\n  3.3 Closed post, Open read chat (Update both \u003Ccode\u003E@auth\u003C\u002Fcode\u003E directive and a Subscription)\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EPrevious program is not bad.\u003C\u002Fp\u003E\n\n\u003Cp\u003EBut, we often use \"authorized users can post but all users can read\" system.\u003C\u002Fp\u003E\n\n\u003Cp\u003ESo, we make it.\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"update-api-for-multiauthorization\" href=\"#update-api-for-multiauthorization\"\u003E\n  \u003C\u002Fa\u003E\n  Update api for multi-authorization\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EPreviously, we use only \u003Ccode\u003EAmazon Cognito User Pool\u003C\u002Fcode\u003E.\u003Cbr\u003E\nHere, we use \u003Ccode\u003EAmazon Cognito User Pool\u003C\u002Fcode\u003E and \u003Ccode\u003EAPI key\u003C\u002Fcode\u003E.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify update api\n? Please \u003Cspan class=\"k\"\u003Eselect \u003C\u002Fspan\u003Efrom one of the below mentioned services: GraphQL\n? Select from the options below Update auth settings\n? Choose the default authorization \u003Cspan class=\"nb\"\u003Etype \u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Ethe API Amazon Cognito User Pool\nUse a Cognito user pool configured as a part of this project.\n? Configure additional auth types? Yes\n? Choose the additional authorization types you want to configure \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Ethe API API key\nAPI key configuration\n? Enter a description \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Ethe API key: \n? After how many days from now the API key should expire \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E1-365\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E: 365\n\nThe following types \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Enot have \u003Cspan class=\"s1\"\u003E'@auth'\u003C\u002Fspan\u003E enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ea directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\nThe API_KEY auth \u003Cspan class=\"nb\"\u003Etype \u003C\u002Fspan\u003Ehas been added to the API.\n⚠️  If other resources depend on this API and need access to the API key, run \u003Cspan class=\"s2\"\u003E\"amplify update &lt;category&gt;\"\u003C\u002Fspan\u003E and reselect this API as a dependency to add the API key dependency.\nSuccessfully updated resource\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThen, update graphql schema file.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-3-post-close-read-open-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\"\u003Eamplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql\u003C\u002Fa\u003E\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight graphql\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ECloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eauth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Erules\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n      \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eallow\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eowner\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EuserPools\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n      \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eallow\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Epublic\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprovider\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EapiKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoperations\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eread\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EID\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\n\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ESubscription\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EonCreateRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!):\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ERoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaws_subscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emutations\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcreateRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EonCreateCloseRoomChatByRoomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EroomName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E!):\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ECloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaws_subscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emutations\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcreateCloseRoomChat\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E@\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaws_api_key\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cblockquote\u003E\n\u003Cp\u003ENotice:\u003Cbr\u003E\n\u003Ccode\u003E@aws_api_key\u003C\u002Fcode\u003E is not in \"Amplify docs\".\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fdocs.amplify.aws\u002F\"\u003Ehttps:\u002F\u002Fdocs.amplify.aws\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EThis appears in \"AppSync docs\".\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fappsync\u002Flatest\u002Fdevguide\u002Fsecurity-authz.html#using-additional-authorization-modes\"\u003Ehttps:\u002F\u002Fdocs.aws.amazon.com\u002Fappsync\u002Flatest\u002Fdevguide\u002Fsecurity-authz.html#using-additional-authorization-modes\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EAnd, push project.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Eamplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| \u003Cspan class=\"nt\"\u003E--------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E----------------------------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E---------\u003C\u002Fspan\u003E | \u003Cspan class=\"nt\"\u003E-----------------\u003C\u002Fspan\u003E |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to \u003Cspan class=\"k\"\u003Econtinue\u003C\u002Fspan\u003E? Yes\n\nThe following types \u003Cspan class=\"k\"\u003Edo \u003C\u002Fspan\u003Enot have \u003Cspan class=\"s1\"\u003E'@auth'\u003C\u002Fspan\u003E enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ea directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code \u003Cspan class=\"k\"\u003Efor \u003C\u002Fspan\u003Eyour updated GraphQL API Yes\n? Do you want to generate GraphQL statements \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Equeries, mutations and subscription\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠧ Updating resources \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud. This may take a few minutes...\n\n\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003Esnip\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n✔ All resources are updated \u003Cspan class=\"k\"\u003Ein \u003C\u002Fspan\u003Ethe cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\nGraphQL API KEY: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n\u003Cspan class=\"err\"\u003E$\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EFinally, we get \"authorized users can post but all users can read\" chat system.\u003C\u002Fp\u003E\n\n\u003Cp\u003EYou open a browser and open \"Closed Chat\" (use not authorized user).\u003Cbr\u003E\nThen, you open another browser, sign-in another user, open \"Closed Chat\", then post message.\u003C\u002Fp\u003E\n\n\u003Cp\u003EYou can receive the message on original browser!\u003C\u002Fp\u003E\n\n";d.body_markdown="Previous articles are \"Open Chat\", this means \"Not authenticated users can post and read\".\n\nThen, this article shows \"Closed Chat\".\n\nFirst, we just use `@auth` directive.\nSecond, we add a Subscription type with an argument.\nThird, we update both `@auth` directive and a Subscription type.\n\n**TOC**\n\n| Section | Title |\n|:---:| --- |\n| 3.1 | [Use `@auth` directive and perform Authentication](#section-3-1) |\n| 3.2 | [Add a Subscription type with an argument](#section-3-2) |\n| 3.3 | [Closed post, Open read chat (Update both `@auth` directive and a Subscription)](#section-3-3) |\n\n\u003Ca name=\"section-3-1\"\u003E\u003C\u002Fa\u003E\n## 3.1 Use `@auth` directive and perform Authentication\n\n### Add and use auth\n\n``` bash\n$ amplify add auth\nScanning for plugins...\nPlugin scan successful\n\nUsing service: Cognito, provided by: awscloudformation\n \n The current configured provider is Amazon Cognito. \n \n Do you want to use the default authentication and security configuration? Default configuration\n Warning: you will not be able to edit these selections. \n How do you want users to be able to sign in? Username\n Do you want to configure advanced settings? No, I am done.\nSuccessfully added auth resource sampleamplifysubscriXXXXXXXX locally\n\nSome next steps:\n\"amplify push\" will build all your local backend resources and provision it in the cloud\n\"amplify publish\" will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud\n\n$\n```\n\nAnd, push project.\n\n``` bash\n$ amplify push\n\n\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| -------- | ---------------------------- | --------- | ----------------- |\n| Auth     | sampleamplifysubscriXXXXXXXX | Create    | awscloudformation |\n| Api      | sampleamplifysubscri         | No Change | awscloudformation |\n? Are you sure you want to continue? Yes\n⠙ Updating resources in the cloud. This may take a few minutes...\n\n(snip)\n\n✔ All resources are updated in the cloud\n\n\n$\n```\n\nThen, update api.\n\n``` bash\n$ amplify update api\n? Please select from one of the below mentioned services: GraphQL\n? Select from the options below Update auth settings\n? Choose the default authorization type for the API Amazon Cognito User Pool\nUse a Cognito user pool configured as a part of this project.\n? Configure additional auth types? No\n\nThe following types do not have '@auth' enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files in a directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\nThe API_KEY auth type has been removed from the API.\nIf other resources depend on this API, run \"amplify update \u003Ccategory\u003E\" and reselect this API to remove the dependency on the API key.\n⚠️  This must be done before running \"amplify push\" to prevent a push failure\nSuccessfully updated resource\n$\n```\n\nThis mean, we can use `@auth` directive and can only use `userPools`.\n\nUpdate graphql schema file.\n\n[amplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql)\n\n``` graphql\ntype CloseRoomChat\n  @model\n  @auth(rules: [{ allow: owner, provider: userPools }]) {\n  id: ID!\n  roomName: String!\n  message: String!\n}\n```\n\nAnd, push project again.\n\n``` bash\n$ amplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| -------- | ---------------------------- | --------- | ----------------- |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to continue? Yes\n\nThe following types do not have '@auth' enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files in a directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code for your updated GraphQL API Yes\n? Do you want to generate GraphQL statements (queries, mutations and subscription) based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠴ Updating resources in the cloud. This may take a few minutes...\n\n(snip)\n\n✔ Generated GraphQL operations successfully and saved at src\u002Fgraphql\n✔ All resources are updated in the cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\n\n\n$\n```\n\n### Implement Sign-in page.\n\nPlease see official document.\nhttps:\u002F\u002Fdocs.amplify.aws\u002Fui\u002Fauth\u002Fauthenticator\u002Fq\u002Fframework\u002Fvue\n\nAnd this code.\n[src\u002Fviews\u002FSignIn.vue](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FSignIn.vue)\n\n### Implement Closed Chat page.\n\n[src\u002Fviews\u002FCloseChat.vue](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FCloseChat.vue)\n\n``` vue\n\u003Ctemplate\u003E\n  \u003Cv-container\u003E\n    \u003Cv-row\u003E\n      \u003Cv-col cols=\"12\"\u003E\n        \u003Cv-card\u003E\n          \u003Cv-card-title\u003EMulti-room Close Chat\u003C\u002Fv-card-title\u003E\n          \u003Cv-card-text\n            \u003EOnly authenticated users can use this chat. All subscriptions are\n            received.\n          \u003C\u002Fv-card-text\u003E\n        \u003C\u002Fv-card\u003E\n      \u003C\u002Fv-col\u003E\n    \u003C\u002Fv-row\u003E\n    \u003Cv-row\u003E\n      \u003Cv-col cols=\"12\"\u003E\n        \u003Cv-text-field\n          v-model=\"inputMessage\"\n          label=\"New Message\"\n          outlined\n          clearable\n          append-outer-icon=\"mdi-send\"\n          @click:append-outer=\"sendMessage\"\n        \u003E\u003C\u002Fv-text-field\u003E\n      \u003C\u002Fv-col\u003E\n    \u003C\u002Fv-row\u003E\n    \u003Cv-tabs\n      v-model=\"roomName\"\n      background-color=\"primary\"\n      center-active\n      centered\n      dark\n    \u003E\n      \u003Cv-tab\n        v-for=\"(room, index) in rooms\"\n        :key=\"index\"\n        :href=\"'#' + room\"\n        @click=\"setSubscribeByRoomName(room)\"\n        \u003E{{ room }}\u003C\u002Fv-tab\n      \u003E\n    \u003C\u002Fv-tabs\u003E\n    \u003Cv-card flat\u003E\n      \u003Cv-tabs-items v-model=\"roomName\"\u003E\n        \u003Cv-tab-item v-for=\"(room, index) in rooms\" :key=\"index\" :value=\"room\"\u003E\n          \u003Cv-row class=\"pa-2\"\u003E\n            \u003Cv-col cols=\"6\"\u003E\n              \u003CChatList title=\"Input\" :list=\"messages[room]\"\u003E\u003C\u002FChatList\u003E\n            \u003C\u002Fv-col\u003E\n            \u003Cv-col cols=\"6\"\u003E\n              \u003CChatList\n                title=\"Subscriptions\"\n                :list=\"subscriptionMessages[room]\"\n              \u003E\u003C\u002FChatList\u003E\n            \u003C\u002Fv-col\u003E\n          \u003C\u002Fv-row\u003E\n        \u003C\u002Fv-tab-item\u003E\n      \u003C\u002Fv-tabs-items\u003E\n    \u003C\u002Fv-card\u003E\n  \u003C\u002Fv-container\u003E\n\u003C\u002Ftemplate\u003E\n\n\u003Cscript\u003E\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\nimport { createCloseRoomChat } from '@\u002Fgraphql\u002Fmutations'\nimport { onCreateCloseRoomChat } from '@\u002Fgraphql\u002Fsubscriptions'\n\nimport ChatList from '@\u002Fcomponents\u002FChatList'\n\nexport default {\n  components: { ChatList },\n  data: function() {\n    return {\n      user: null,\n      roomName: null,\n      inputMessage: '',\n      rooms: ['room1', 'room2'],\n      messages: {\n        room1: [],\n        room2: [],\n      },\n      subscriptionMessages: {\n        room1: [],\n        room2: [],\n      },\n      onCreateMultiRoomChatSubscriptions: {\n        room1: null,\n        room2: null,\n      },\n    }\n  },\n  created: async function() {\n    this.user = await Auth.currentUserInfo()\n    this.setSubscribeByRoomName('room1')\n  },\n  beforeDestroy: function() {\n    this.clearSubscriptions()\n  },\n  methods: {\n    sendMessage: async function() {\n      const message = await API.graphql(\n        graphqlOperation(createCloseRoomChat, {\n          input: { message: this.inputMessage, roomName: this.roomName },\n        }),\n      )\n      console.log(message)\n\n      this.messages[this.roomName].push(message.data.createCloseRoomChat)\n      this.inputMessage = ''\n    },\n    setSubscribeByRoomName(roomName) {\n      this.clearSubscriptions()\n\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChat, { owner: this.user.username }),\n      ).subscribe({\n        next: ({ provider, value }) =\u003E {\n          console.log({ provider, value })\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChat.roomName\n          ].push(value.data.onCreateCloseRoomChat)\n        },\n      })\n    },\n    clearSubscriptions() {\n      this.rooms.forEach(room =\u003E {\n        if (this.onCreateMultiRoomChatSubscriptions[room]) {\n          this.onCreateMultiRoomChatSubscriptions[room].unsubscribe()\n        }\n        this.onCreateMultiRoomChatSubscriptions[room] = null\n      })\n    },\n  },\n}\n\u003C\u002Fscript\u003E\n\n\u003Cstyle\u003E\u003C\u002Fstyle\u003E\n```\n\n\u003E See other files:\n\u003E https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-1-close-chat\n\nThe important point is here.\n\n``` vue\n(snip)\n\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\nimport { createCloseRoomChat } from '@\u002Fgraphql\u002Fmutations'\nimport { onCreateCloseRoomChat } from '@\u002Fgraphql\u002Fsubscriptions'\n\n(snip)\n\n  created: async function() {\n    this.user = await Auth.currentUserInfo()\n    this.setSubscribeByRoomName('room1')\n  },\n\n(snip)\n\n    sendMessage: async function() {\n      const message = await API.graphql(\n        graphqlOperation(createCloseRoomChat, {\n...\n      this.messages[this.roomName].push(message.data.createCloseRoomChat)\n...\n\n(snip)\n\n    setSubscribeByRoomName(roomName) {\n      this.clearSubscriptions()\n\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChat, { owner: this.user.username }),\n...\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChat.roomName\n          ].push(value.data.onCreateCloseRoomChat)\n...\n\n(snip)\n```\n\n`createCloseRoomChat` use same as `createRoomChat` used previous article.\n\n`onCreateCloseRoomChat` use instead of `onCreateRoomChat` used previous article.\nAnd, `onCreateCloseRoomChat` needs with argument `owner`.\n\n`owner` information is got like this.\n\n```\nthis.user = await Auth.currentUserInfo()\nthis.user.username \u002F\u002F your sign-in username\n```\n\nAnyway, now we can check our first \"Closed Chat\".\nBut when you try this, You may be a little disappointed.\n\nYou post message and receive your own message.\n\nNext, you open another browser, sign-in another user, open \"Closed Chat\", then post message.\n\nYou can't receive another message on original browser.\n\n\u003Ca name=\"section-3-2\"\u003E\u003C\u002Fa\u003E\n## 3.2 Add a Subscription type with an argument\n\n### Update graphql schema\n\nSo, we add a Subscription type with an argument `roomName` like `onCreateRoomChatByRoomName` that added by previous article.\n\nUpdate graphql schema file.\n\n[amplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-2-multi-room-close-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql)\n\n``` graphql\ntype Subscription {\n  onCreateRoomChatByRoomName(roomName: String!): RoomChat\n    @aws_subscribe(mutations: [\"createRoomChat\"])\n  onCreateCloseRoomChatByRoomName(roomName: String!): CloseRoomChat\n    @aws_subscribe(mutations: [\"createCloseRoomChat\"])\n}\n```\n\nAnd, push project.\n\n``` bash\n$ amplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| -------- | ---------------------------- | --------- | ----------------- |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to continue? Yes\n\nThe following types do not have '@auth' enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files in a directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code for your updated GraphQL API Yes\n? Do you want to generate GraphQL statements (queries, mutations and subscription) based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠴ Updating resources in the cloud. This may take a few minutes...\n\n(snip)\n\n✔ All resources are updated in the cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\n\n\n$\n```\n\n### Update Closed Chat\n\n\n[src\u002Fviews\u002FCloseChat.vue](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-1-close-chat\u002Fsrc\u002Fviews\u002FCloseChat.vue)\n\n``` vue\n\u003Ctemplate\u003E\n  \u003Cv-container\u003E\n    \u003Cv-row\u003E\n      \u003Cv-col cols=\"12\"\u003E\n        \u003Cv-card\u003E\n          \u003Cv-card-title\u003EMulti-room Close Chat\u003C\u002Fv-card-title\u003E\n          \u003Cv-card-text\n            \u003EOnly authenticated users can use this chat. All subscriptions are\n            received.\n          \u003C\u002Fv-card-text\u003E\n        \u003C\u002Fv-card\u003E\n      \u003C\u002Fv-col\u003E\n    \u003C\u002Fv-row\u003E\n    \u003Cv-row\u003E\n      \u003Cv-col cols=\"12\"\u003E\n        \u003Cv-text-field\n          v-model=\"inputMessage\"\n          label=\"New Message\"\n          outlined\n          clearable\n          append-outer-icon=\"mdi-send\"\n          @click:append-outer=\"sendMessage\"\n        \u003E\u003C\u002Fv-text-field\u003E\n      \u003C\u002Fv-col\u003E\n    \u003C\u002Fv-row\u003E\n    \u003Cv-tabs\n      v-model=\"roomName\"\n      background-color=\"primary\"\n      center-active\n      centered\n      dark\n    \u003E\n      \u003Cv-tab\n        v-for=\"(room, index) in rooms\"\n        :key=\"index\"\n        :href=\"'#' + room\"\n        @click=\"setSubscribeByRoomName(room)\"\n        \u003E{{ room }}\u003C\u002Fv-tab\n      \u003E\n    \u003C\u002Fv-tabs\u003E\n    \u003Cv-card flat\u003E\n      \u003Cv-tabs-items v-model=\"roomName\"\u003E\n        \u003Cv-tab-item v-for=\"(room, index) in rooms\" :key=\"index\" :value=\"room\"\u003E\n          \u003Cv-row class=\"pa-2\"\u003E\n            \u003Cv-col cols=\"6\"\u003E\n              \u003CChatList title=\"Input\" :list=\"messages[room]\"\u003E\u003C\u002FChatList\u003E\n            \u003C\u002Fv-col\u003E\n            \u003Cv-col cols=\"6\"\u003E\n              \u003CChatList\n                title=\"Subscriptions\"\n                :list=\"subscriptionMessages[room]\"\n              \u003E\u003C\u002FChatList\u003E\n            \u003C\u002Fv-col\u003E\n          \u003C\u002Fv-row\u003E\n        \u003C\u002Fv-tab-item\u003E\n      \u003C\u002Fv-tabs-items\u003E\n    \u003C\u002Fv-card\u003E\n  \u003C\u002Fv-container\u003E\n\u003C\u002Ftemplate\u003E\n\n\u003Cscript\u003E\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\nimport { createCloseRoomChat } from '@\u002Fgraphql\u002Fmutations'\nimport { onCreateCloseRoomChatByRoomName } from '@\u002Fgraphql\u002Fsubscriptions'\n\nimport ChatList from '@\u002Fcomponents\u002FChatList'\n\nexport default {\n  components: { ChatList },\n  data: function() {\n    return {\n      user: null,\n      roomName: null,\n      inputMessage: '',\n      rooms: ['room1', 'room2'],\n      messages: {\n        room1: [],\n        room2: [],\n      },\n      subscriptionMessages: {\n        room1: [],\n        room2: [],\n      },\n      onCreateMultiRoomChatSubscriptions: {\n        room1: null,\n        room2: null,\n      },\n    }\n  },\n  created: async function() {\n    this.user = await Auth.currentUserInfo()\n    this.setSubscribeByRoomName('room1')\n  },\n  beforeDestroy: function() {\n    this.clearSubscriptions()\n  },\n  methods: {\n    sendMessage: async function() {\n      const message = await API.graphql(\n        graphqlOperation(createCloseRoomChat, {\n          input: { message: this.inputMessage, roomName: this.roomName },\n        }),\n      )\n      console.log(message)\n\n      this.messages[this.roomName].push(message.data.createCloseRoomChat)\n      this.inputMessage = ''\n    },\n    setSubscribeByRoomName(roomName) {\n      this.clearSubscriptions()\n\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChatByRoomName, {\n          roomName: roomName,\n        }),\n      ).subscribe({\n        next: ({ provider, value }) =\u003E {\n          console.log({ provider, value })\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChatByRoomName.roomName\n          ].push(value.data.onCreateCloseRoomChatByRoomName)\n        },\n      })\n    },\n    clearSubscriptions() {\n      this.rooms.forEach(room =\u003E {\n        if (this.onCreateMultiRoomChatSubscriptions[room]) {\n          this.onCreateMultiRoomChatSubscriptions[room].unsubscribe()\n        }\n        this.onCreateMultiRoomChatSubscriptions[room] = null\n      })\n    },\n  },\n}\n\u003C\u002Fscript\u003E\n\n\u003Cstyle\u003E\u003C\u002Fstyle\u003E\n```\n\n\u003E See other files:\n\u003E https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Ftree\u002F3-2-multi-room-close-chat\n\nThe important point is here.\n\n``` vue\n(snip)\n\nimport { onCreateCloseRoomChatByRoomName } from '@\u002Fgraphql\u002Fsubscriptions'\n\n(snip)\n\n    setSubscribeByRoomName(roomName) {\n...\n      this.onCreateMultiRoomChatSubscriptions[roomName] = API.graphql(\n        graphqlOperation(onCreateCloseRoomChatByRoomName, {\n          roomName: roomName,\n        }),\n...\n          this.subscriptionMessages[\n            value.data.onCreateCloseRoomChatByRoomName.roomName\n          ].push(value.data.onCreateCloseRoomChatByRoomName)\n...\n\n(snip)\n```\n\n`onCreateCloseRoomChatByRoomName` use same as `onCreateRoomChatByRoomName ` used previous article.\n\nAnd, `onCreateRoomChatByRoomName ` needs with argument `roomName`.\n\nYou try this program, you can receive another user's message.\n\nThis mean, \"only authorized users can post and read this chat room.\"\n\n\u003Ca name=\"section-3-3\"\u003E\u003C\u002Fa\u003E\n## 3.3 Closed post, Open read chat (Update both `@auth` directive and a Subscription)\n\nPrevious program is not bad.\n\nBut, we often use \"authorized users can post but all users can read\" system.\n\nSo, we make it.\n\n### Update api for multi-authorization\n\nPreviously, we use only `Amazon Cognito User Pool`.\nHere, we use `Amazon Cognito User Pool` and `API key`.\n\n``` bash\n$ amplify update api\n? Please select from one of the below mentioned services: GraphQL\n? Select from the options below Update auth settings\n? Choose the default authorization type for the API Amazon Cognito User Pool\nUse a Cognito user pool configured as a part of this project.\n? Configure additional auth types? Yes\n? Choose the additional authorization types you want to configure for the API API key\nAPI key configuration\n? Enter a description for the API key: \n? After how many days from now the API key should expire (1-365): 365\n\nThe following types do not have '@auth' enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files in a directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\nThe API_KEY auth type has been added to the API.\n⚠️  If other resources depend on this API and need access to the API key, run \"amplify update \u003Ccategory\u003E\" and reselect this API as a dependency to add the API key dependency.\nSuccessfully updated resource\n$\n```\n\nThen, update graphql schema file.\n\n[amplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql](https:\u002F\u002Fgithub.com\u002Ftacck\u002Fsample-amplify-subscriptions\u002Fblob\u002F3-3-post-close-read-open-chat\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql)\n\n``` graphql\ntype CloseRoomChat\n  @model\n  @auth(\n    rules: [\n      { allow: owner, provider: userPools }\n      { allow: public, provider: apiKey, operations: [read] }\n    ]\n  ) {\n  id: ID!\n  roomName: String!\n  message: String!\n}\n\ntype Subscription {\n  onCreateRoomChatByRoomName(roomName: String!): RoomChat\n    @aws_subscribe(mutations: [\"createRoomChat\"])\n  onCreateCloseRoomChatByRoomName(roomName: String!): CloseRoomChat\n    @aws_subscribe(mutations: [\"createCloseRoomChat\"])\n    @aws_api_key\n}\n```\n\n\u003E Notice:\n\u003E `@aws_api_key` is not in \"Amplify docs\".\n\u003E https:\u002F\u002Fdocs.amplify.aws\u002F\n\u003E\n\u003E This appears in \"AppSync docs\".\n\u003E https:\u002F\u002Fdocs.aws.amazon.com\u002Fappsync\u002Flatest\u002Fdevguide\u002Fsecurity-authz.html#using-additional-authorization-modes\n\nAnd, push project.\n\n``` bash\n$ amplify push\n✔ Successfully pulled backend environment dev from the cloud.\n\nCurrent Environment: dev\n\n| Category | Resource name                | Operation | Provider plugin   |\n| -------- | ---------------------------- | --------- | ----------------- |\n| Api      | sampleamplifysubscri         | Update    | awscloudformation |\n| Auth     | sampleamplifysubscriXXXXXXXX | No Change | awscloudformation |\n? Are you sure you want to continue? Yes\n\nThe following types do not have '@auth' enabled. Consider using @auth with @model\n         - OpenChat\n         - RoomChat\nLearn more about @auth here: https:\u002F\u002Fdocs.amplify.aws\u002Fcli\u002Fgraphql-transformer\u002Fauth\n\n\nGraphQL schema compiled successfully.\n\nEdit your schema at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema.graphql or place .graphql files in a directory at \u002F[YOUR_DIRECTORY]\u002Fsample-amplify-subscriptions\u002Famplify\u002Fbackend\u002Fapi\u002Fsampleamplifysubscri\u002Fschema\n? Do you want to update code for your updated GraphQL API Yes\n? Do you want to generate GraphQL statements (queries, mutations and subscription) based on your schema types?\nThis will overwrite your current graphql queries, mutations and subscriptions Yes\n⠧ Updating resources in the cloud. This may take a few minutes...\n\n(snip)\n\n✔ All resources are updated in the cloud\n\nGraphQL endpoint: https:\u002F\u002FXXXXXXXXXXXXXXXXXXXXXXXXXX.appsync-api.ap-northeast-1.amazonaws.com\u002Fgraphql\nGraphQL API KEY: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n$\n```\n\nFinally, we get \"authorized users can post but all users can read\" chat system.\n\nYou open a browser and open \"Closed Chat\" (use not authorized user).\nThen, you open another browser, sign-in another user, open \"Closed Chat\", then post message.\n\nYou can receive the message on original browser!";d.user={name:"Kihara, Takuya",username:c,twitter_username:c,github_username:c,website_url:"https:\u002F\u002Fwww.tacck.net",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--fCEr29Sc--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F552419\u002F5e05b1b7-19d9-46ca-be87-1ac559dbd5f4.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--J8N57Q46--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F552419\u002F5e05b1b7-19d9-46ca-be87-1ac559dbd5f4.jpeg"};return {data:[{}],fetch:{"data-v-25febe66:0":{article:d}},mutations:[["SET_CURRENT_ARTICLE",d]]}}("2021-02-16T14:28:06Z",null,"tacck",{},"https:\u002F\u002Fdev.to\u002Ftacck\u002Faws-amplify-subscriptions-usage-3-closed-chat-35mk",13)));