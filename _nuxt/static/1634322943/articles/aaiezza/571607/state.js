window.__NUXT__=(function(a,b,c,d,e){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634322943",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:571607,title:"Are you seriously not using Java 15 yet?",description:"Experimenting with the latest and greatest features of Java 15 is a lot of fun! But how feasible is its use in your existing Java project?",readable_publish_date:"Feb 10",slug:"are-you-seriously-not-using-java-15-yet-5c86",path:"\u002Faaiezza\u002Fare-you-seriously-not-using-java-15-yet-5c86",url:b,comments_count:7,public_reactions_count:c,collection_id:a,published_timestamp:d,positive_reactions_count:c,cover_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--gaf4dSwz--\u002Fc_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000\u002Fhttps:\u002F\u002Fpbs.twimg.com\u002Fmedia\u002FEiC-NwHXkAUufg1.jpg:large",social_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--9-oQbPHN--\u002Fc_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000\u002Fhttps:\u002F\u002Fpbs.twimg.com\u002Fmedia\u002FEiC-NwHXkAUufg1.jpg:large",canonical_url:b,created_at:"2021-01-14T14:17:05Z",edited_at:a,crossposted_at:a,published_at:d,last_comment_at:"2021-02-16T13:24:38Z",reading_time_minutes:9,tag_list:"java, java15, amazoncorretto, maven",tags:["java","java15","amazoncorretto","maven"],body_html:"\u003Ch1\u003E\n  \u003Ca name=\"introduction\" href=\"#introduction\"\u003E\n  \u003C\u002Fa\u003E\n  Introduction\n\u003C\u002Fh1\u003E\n\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EWhat I want to accomplish\u003C\u002Fstrong\u003E: I want to move to \u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fwhat-is-corretto-15.html\"\u003EAmazon Corretto 15\u003C\u002Fa\u003E so I can use the new features in my work projects. These features feel long awaited; So much so, \u003Ca href=\"https:\u002F\u002Fsnyk.io\u002Fblog\u002Fkotlin-overtakes-scala-and-clojure-to-become-the-2nd-most-popular-language-on-the-jvm\u002F#:~:text=Particularly%20Kotlin%2C%20a%20language%20developed,%2C%20to%20an%20impressive%205.5%25.\"\u003EKotlin\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fwww.toptal.com\u002Fjava\u002Fwrite-fat-free-java-code-project-lombok\"\u003ELombok\u003C\u002Fa\u003E continue to gain popularity.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EHow\u003C\u002Fstrong\u003E: I plan to convert an existing Java project from amazon‑corretto‑11 to amazon‑corretto‑15, \u003Cem\u003Eand\u003C\u002Fem\u003E add code to the project which will leverage the new features just to see how our infrastructure handles them.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003E\u003Cem\u003ECaveats\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: This particular service is dockerized. So we would also need to update our docker image to use Java 15. I plan to run the project outside of docker just using \u003Ccode\u003Emvn\u003C\u002Fcode\u003E from a local shell.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Ch1\u003E\n  \u003Ca name=\"conversion-process\" href=\"#conversion-process\"\u003E\n  \u003C\u002Fa\u003E\n  Conversion process\n\u003C\u002Fh1\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"change-the-maven-compiler-plugin-version\" href=\"#change-the-maven-compiler-plugin-version\"\u003E\n  \u003C\u002Fa\u003E\n  Change the Maven compiler plugin version.\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EIn the build section of the \u003Ccode\u003Epom.xml\u003C\u002Fcode\u003E file:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight xml\"\u003E\u003Ccode\u003E    \u003Cspan class=\"nt\"\u003E&lt;build&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;plugins&gt;\u003C\u002Fspan\u003E\n            . . .\n            \u003Cspan class=\"nt\"\u003E&lt;plugin&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;artifactId&gt;\u003C\u002Fspan\u003Emaven-compiler-plugin\u003Cspan class=\"nt\"\u003E&lt;\u002FartifactId&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;version&gt;\u003C\u002Fspan\u003E3.8.1\u003Cspan class=\"nt\"\u003E&lt;\u002Fversion&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;configuration&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;release&gt;\u003C\u002Fspan\u003E15\u003Cspan class=\"nt\"\u003E&lt;\u002Frelease&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;compilerArgs&gt;\u003C\u002Fspan\u003E\n                        \u003Cspan class=\"nt\"\u003E&lt;arg&gt;\u003C\u002Fspan\u003E--enable-preview\u003Cspan class=\"nt\"\u003E&lt;\u002Farg&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;\u002FcompilerArgs&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;\u002Fconfiguration&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fplugin&gt;\u003C\u002Fspan\u003E\n            . . .\n            \u003Cspan class=\"nt\"\u003E&lt;plugin&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;groupId&gt;\u003C\u002Fspan\u003Eorg.apache.maven.plugins\u003Cspan class=\"nt\"\u003E&lt;\u002FgroupId&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;artifactId&gt;\u003C\u002Fspan\u003Emaven-surefire-plugin\u003Cspan class=\"nt\"\u003E&lt;\u002FartifactId&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;configuration&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;forkCount&gt;\u003C\u002Fspan\u003E0\u003Cspan class=\"nt\"\u003E&lt;\u002FforkCount&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;argLine&gt;\u003C\u002Fspan\u003E--enable-preview\u003Cspan class=\"nt\"\u003E&lt;\u002FargLine&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;\u002Fconfiguration&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fplugin&gt;\u003C\u002Fspan\u003E\n            . . .\n            \u003Cspan class=\"nt\"\u003E&lt;plugin&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;groupId&gt;\u003C\u002Fspan\u003Eorg.apache.maven.plugins\u003Cspan class=\"nt\"\u003E&lt;\u002FgroupId&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;artifactId&gt;\u003C\u002Fspan\u003Emaven-failsafe-plugin\u003Cspan class=\"nt\"\u003E&lt;\u002FartifactId&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;configuration&gt;\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"nt\"\u003E&lt;argLine&gt;\u003C\u002Fspan\u003E--enable-preview\u003Cspan class=\"nt\"\u003E&lt;\u002FargLine&gt;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nt\"\u003E&lt;\u002Fconfiguration&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nt\"\u003E&lt;\u002Fplugin&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nt\"\u003E&lt;\u002Fplugins&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nt\"\u003E&lt;build&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Cem\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F55303837\u002Fproblem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe\u002F55311987#55311987\"\u003EI needed \u003Ccode\u003EforkCount\u003C\u002Fcode\u003E in the \u003Ccode\u003Esurefire\u003C\u002Fcode\u003E plugin configuration\u003C\u002Fa\u003E because the parent pom declares something higher than \u003Ccode\u003E0\u003C\u002Fcode\u003E, \u003Ca href=\"https:\u002F\u002Fissues.apache.org\u002Fjira\u002Fprojects\u002FSUREFIRE\u002Fissues\u002FSUREFIRE-1528?filter=allopenissues\"\u003ESUREFIRE-1528\u003C\u002Fa\u003E.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EThis is a great reminder that some of the features in 15 are technically experimental still and require preview.\u003Cbr\u003E\nWhile I would be hesitant to use preview features in a production system, Amazon has \u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-11-ug\u002Fpatches.html\"\u003Efaithfully iterated on corretto-11\u003C\u002Fa\u003E through patches. Thus, as issues arise, there is iteration to fix those problems, and I believe that would also extend to preview features.\u003Cbr\u003E\nAnd I think it's safe to assume that \u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fpatches.html\"\u003Ecorretto-15 will also have patches issued\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"installing-amazon-corretto-15\" href=\"#installing-amazon-corretto-15\"\u003E\n  \u003C\u002Fa\u003E\n  Installing Amazon Corretto 15\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fdownloads-list.html\"\u003EDownload \u003Ccode\u003Eamazon-corretto-15\u003C\u002Fcode\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EOr for the Linux users, you couldn't ask for a sweeter time: \u003Ca href=\"https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fgeneric-linux-install.html\"\u003ELinux package managed installation instructions\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"updating-my-ide\" href=\"#updating-my-ide\"\u003E\n  \u003C\u002Fa\u003E\n  Updating my IDE\n\u003C\u002Fh2\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"intellij\" href=\"#intellij\"\u003E\n  \u003C\u002Fa\u003E\n  IntelliJ\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.jetbrains.com\u002Fidea\u002Fdownload\"\u003EDownload the latest IntelliJ\u003C\u002Fa\u003E and you will have been all set to use \u003Ca href=\"https:\u002F\u002Fblog.jetbrains.com\u002Fidea\u002F2020\u002F09\u002Fjava-15-and-intellij-idea\u002F\"\u003EJava 15 since version 2020.2\u003C\u002Fa\u003E!\u003C\u002Fp\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"eclipse\" href=\"#eclipse\"\u003E\n  \u003C\u002Fa\u003E\n  Eclipse\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.eclipse.org\u002Fdownloads\u002F\"\u003EDownload the latest Eclipse\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"using-the-jdk\" href=\"#using-the-jdk\"\u003E\n  \u003C\u002Fa\u003E\n  Using the JDK\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EJust make sure when you're setting up your IDE, that you point to the correct\u003Cspan\u003E\u003Cem\u003Eto\u003C\u002Fem\u003E\u003C\u002Fspan\u003E JDK installation!\u003C\u002Fp\u003E\n\u003Ch1\u003E\n  \u003Ca name=\"lets-try-out-these-java-15-features\" href=\"#lets-try-out-these-java-15-features\"\u003E\n  \u003C\u002Fa\u003E\n  Let's try out these Java 15 features\n\u003C\u002Fh1\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"no-more-need-for-lombok-here-records\" href=\"#no-more-need-for-lombok-here-records\"\u003E\n  \u003C\u002Fa\u003E\n  No more need for lombok here | Records\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EHere is a simple class in the existing project. Users in this domain are given a \"baby step\" between \u003Ccode\u003E0\u003C\u002Fcode\u003E and \u003Ccode\u003E7\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EWith Lombok:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"nd\"\u003E@lombok\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EData\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EUserBabyStep\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EUserBabyStep\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003ENO_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EDEFAULT_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EMAX_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EDEFAULT_BABY_STEP\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EMAX_BABY_STEP\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EIllegalArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\n          \u003Cspan class=\"s\"\u003E\"The Baby Step of a user must be between 0 and 7 inclusively.\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EHello \u003Ccode\u003Erecords\u003C\u002Fcode\u003E!\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Erecord\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EUserBabyStep\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003ENO_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EDEFAULT_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EMAX_BABY_STEP\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"no\"\u003EDEFAULT_BABY_STEP\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EUserBabyStep\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EMAX_BABY_STEP\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EIllegalArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\n          \u003Cspan class=\"s\"\u003E\"The Baby Step of a user must be between 0 and 7 inclusively.\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Evalue\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch3\u003E\n  \u003Ca name=\"notes-for-raw-record-endraw-\" href=\"#notes-for-raw-record-endraw-\"\u003E\n  \u003C\u002Fa\u003E\n  Notes for \u003Ccode\u003Erecord\u003C\u002Fcode\u003E\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003ELombok will generate a more Java‑canonical getter method for fields: \u003Ccode\u003EgetValue()\u003C\u002Fcode\u003E. The getter method produced by the \u003Ccode\u003Erecord\u003C\u002Fcode\u003E feature is: \u003Ccode\u003Evalue()\u003C\u002Fcode\u003E.\u003Cbr\u003E\nThis is more similar to how the \u003Ca href=\"https:\u002F\u002Fimmutables.github.io\u002F\"\u003EImmutables library\u003C\u002Fa\u003E operates, and \u003Cem\u003Eis\u003C\u002Fem\u003E a fancy way to get around when you may, or may not want \u003Ccode\u003EisFlag\u003C\u002Fcode\u003E for \u003Ccode\u003Eboolean\u003C\u002Fcode\u003E getters. Especially if you are like me, and prefer leveraging the type system for wrapping primitives in a more domain‑driven class.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAnother note is that \u003Ccode\u003Erecord\u003C\u002Fcode\u003E‑declared classes \u003Cstrong\u003Ecannot\u003C\u002Fstrong\u003E extend another class! Only implement interfaces.\u003C\u002Fp\u003E\n\u003Ch4\u003E\n  \u003Ca name=\"necessary-usage-of-the-canonical-constructor\" href=\"#necessary-usage-of-the-canonical-constructor\"\u003E\n  \u003C\u002Fa\u003E\n  Necessary usage of the canonical constructor\n\u003C\u002Fh4\u003E\n\n\u003Cp\u003EFinally, when using records, all constructors \u003Cstrong\u003Emust\u003C\u002Fstrong\u003E call the canonical constructor. That is, the constructor with the same types, order, and number of arguments that are declared on the record itself.\u003C\u002Fp\u003E\n\u003Ch2\u003E\n  \u003Ca name=\"whos-up-for-checkers\" href=\"#whos-up-for-checkers\"\u003E\n  \u003C\u002Fa\u003E\n  Who's up for Checkers?\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EInstead of just looking for more things to change around in this existing project, I'm going to add irrelevant code simply for the sake of flexing the new features. And then, I want to see how it compiles and how the project plugins handle it.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Cstrong\u003EAlso\u003C\u002Fstrong\u003E, I isolated the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Faaiezza\u002Fcheckers\"\u003Echeckers code\u003C\u002Fa\u003E if you'd like to take a closer look.\u003C\u002Fp\u003E\n\u003Ch3\u003E\n  \u003Ca name=\"sealed-interfaces\" href=\"#sealed-interfaces\"\u003E\n  \u003C\u002Fa\u003E\n  Sealed Interfaces\n\u003C\u002Fh3\u003E\n\n\u003Cblockquote\u003E\n\u003Cp\u003EI'm going to mess around with this here, however, see the note at the end of the article concerning sealed interfaces.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EA checker board tends to have two alternating colors tiling a 8 x 8 board.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--joSaRyRm--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fencrypted-tbn0.gstatic.com\u002Fimages%3Fq%3Dtbn:ANd9GcT0Dlvfi2C_DcaNEtIYRaEEAGD-YVgJHRarbNM9m96QZBVb9nvcUBXm7RBu-mReO0T-Ba6fhFU%26usqp%3DCAc\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--joSaRyRm--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fencrypted-tbn0.gstatic.com\u002Fimages%3Fq%3Dtbn:ANd9GcT0Dlvfi2C_DcaNEtIYRaEEAGD-YVgJHRarbNM9m96QZBVb9nvcUBXm7RBu-mReO0T-Ba6fhFU%26usqp%3DCAc\" alt=\"checkerboard\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EEach \u003Ccode\u003Espace\u003C\u002Fcode\u003E\u002Ftile can have \u003Ccode\u003Econtents\u003C\u002Fcode\u003E; a red or black token.\u003C\u002Fp\u003E\n\n\u003Cp\u003ETo demonstrate the difference between individual tiles, there is a sealed interface called \u003Ccode\u003ESpace\u003C\u002Fcode\u003E which \u003Ccode\u003Epermits\u003C\u002Fcode\u003E a \u003Ccode\u003EBlackSpace\u003C\u002Fcode\u003E and a \u003Ccode\u003ERedSpace\u003C\u002Fcode\u003E. Each subclass then also implements the \u003Ccode\u003Ewither\u003C\u002Fcode\u003E method that allows a space to take new contents.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eenum\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"no\"\u003EEMPTY\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EBLACK\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003ERED\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esealed\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Einterface\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Epermits\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EBlackSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERedSpace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EwithContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Estate\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eboolean\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EisEmpty\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EEMPTY\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eboolean\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Econtains\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Estate\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Estate\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Erecord\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EBlackSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eimplements\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EBlackSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EEMPTY\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nd\"\u003E@Override\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EwithContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EBlackSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Erecord\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003ERedSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eimplements\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003ERedSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EEMPTY\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nd\"\u003E@Override\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EwithContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContents\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003ERedSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003ENow our \u003Ccode\u003ECheckerBoard\u003C\u002Fcode\u003E can look a little something like this:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"nd\"\u003E@SuppressWarnings\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"preview\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003EMAX\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E8\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E[][]\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Espaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003ECheckerBoard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Espaces\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ESpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"no\"\u003EMAX\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E][\u003C\u002Fspan\u003E\u003Cspan class=\"no\"\u003EMAX\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E];\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003EforEachSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Espaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E][\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\n          \u003Cspan class=\"o\"\u003E((\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E%\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"o\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EBlackSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERedSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E));\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Cstrong\u003ENote\u003C\u002Fstrong\u003E: that, if you are anything like me, you aren't a fan of warnings. So here's a way to \u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F59019993\u002Fhow-can-i-suppress-javac-warning-about-preview-features\"\u003Esuppress them\u003C\u002Fa\u003E for the preview features we'll be using.\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"multiline-strings\" href=\"#multiline-strings\"\u003E\n  \u003C\u002Fa\u003E\n  Multi-line Strings\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EJava eliminates all leading whitespace between newlines!\u003Cbr\u003E\nLuckily, I already had a scenario where I would not need leading spaces in my string anyways:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoardTest\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nd\"\u003E@Test\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EshouldPrintBoardAsExpected\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esubject\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EfreshBoardWithTokens\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"n\"\u003EassertThat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esubject\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E())\u003C\u002Fspan\u003E\n      \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EisEqualTo\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"\"\"\n            Ω · Ω · Ω · Ω ·\n            · Ω · Ω · Ω · Ω\n            Ω · Ω · Ω · Ω ·\n            · • · • · • · •\n            • · • · • · • ·\n            · ☺ · ☺ · ☺ · ☺\n            ☺ · ☺ · ☺ · ☺ ·\n            · ☺ · ☺ · ☺ · ☺\n            \"\"\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Cem\u003EThe google format spec basically has no idea what to do with this…\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"pattern-matching-in-raw-instanceof-endraw-raw-instanceof-endraw-casting\" href=\"#pattern-matching-in-raw-instanceof-endraw-raw-instanceof-endraw-casting\"\u003E\n  \u003C\u002Fa\u003E\n  Pattern Matching in \u003Ccode\u003Einstanceof\u003C\u002Fcode\u003E (\u003Ccode\u003Einstanceof\u003C\u002Fcode\u003E casting)\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EThis is a really handy trick that I wish was introduced much earlier.\u003C\u002Fp\u003E\n\n\u003Cblockquote\u003E\n\u003Cp\u003EIt is also reminiscent of \u003Ca href=\"https:\u002F\u002Fassertj.github.io\u002Fdoc\u002F#assertj-core-3.13.0-asInstanceOf\"\u003Ea feature of the AssertJ testing library\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EThe key use of this feature is to prevent a manual class cast of a variable after you are \u003Cem\u003Eonly\u003C\u002Fem\u003E in a block of code based on the type of a variable.\u003C\u002Fp\u003E\n\n\u003Cp\u003ESo instead of:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Emethod\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EAnimal\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eanimal\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eanimal\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Einstanceof\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E((\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ECat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eanimal\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Emeow\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EWe can do:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Emethod\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EAnimal\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eanimal\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eanimal\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Einstanceof\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECat\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Emeow\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThis method will set up a new checkboard and place the players' tokens in their starting positions. Since pieces should only be allowed to be played to the black spaces on the board, I can place pieces using the a \u003Ccode\u003Ewither\u003C\u002Fcode\u003E to keep each \u003Ccode\u003Espace\u003C\u002Fcode\u003E instance of my board immutable.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EfreshBoardWithTokens\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ECheckerBoard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EforTopThreeRowsOfSpaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Einstanceof\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EBlackSpace\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Espaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()][\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EwithContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"no\"\u003EBLACK\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E});\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EforBottomThreeRowsOfSpaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Einstanceof\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EBlackSpace\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Espaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()][\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EwithContents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"no\"\u003ERED\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E});\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eboard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cblockquote\u003E\n\u003Cp\u003ETo be fair, the cast here is not necessary. So if you can come up with a better use case, I'd be happy to hear about it in the comments!\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Ch3\u003E\n  \u003Ca name=\"switch-expression\" href=\"#switch-expression\"\u003E\n  \u003C\u002Fa\u003E\n  Switch Expression\n\u003C\u002Fh3\u003E\n\n\u003Cp\u003EOur \u003Ccode\u003ECheckerBoard\u003C\u002Fcode\u003E class has a convenient \u003Ccode\u003EtoString\u003C\u002Fcode\u003E method for a user friendly visual:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight java\"\u003E\u003Ccode\u003E\u003Cspan class=\"nd\"\u003E@Override\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EstreamSpaces\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EstrSpace\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eswitch\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Econtents\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"nl\"\u003EEMPTY:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Eyield\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Einstanceof\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERedSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"·\"\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"•\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"nl\"\u003EBLACK:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Eyield\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"Ω\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"nl\"\u003ERED:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Eyield\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"☺\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"o\"\u003E});\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\n          \u003Cspan class=\"s\"\u003E\"%s%s\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003EstrSpace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Espace\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EisRightEdge\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E()\u003C\u002Fspan\u003E\n            \u003Cspan class=\"o\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"\\n\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\" \"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E})\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003Ereduce\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EStringBuilder\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(),\u003C\u002Fspan\u003E \u003Cspan class=\"nl\"\u003EStringBuilder:\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eappend\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003El\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Er\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003El\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"na\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E();\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThat new \u003Ccode\u003Eyield\u003C\u002Fcode\u003E keyword at work! I can essentially iterate over each \u003Ccode\u003Espace\u003C\u002Fcode\u003E to yield a character.\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n  \u003Ca name=\"issues\" href=\"#issues\"\u003E\n  \u003C\u002Fa\u003E\n  Issues\n\u003C\u002Fh1\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Egoogle code formatter breaks. It looks like it breaks on records, multi-line strings, and the \u003Ccode\u003Eyield\u003C\u002Fcode\u003E keyword that occurs in the switch expressions\n\n\u003Cul\u003E\n\u003Cli\u003ETo solve this, I think some motivated person could just start collaborating on Google GitHub repos for this. \u003Ca href=\"https:\u002F\u002Fdev.to\u002F\"\u003EThe spec repo\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fdev.to\u002F\"\u003EThe configuration repo\u003C\u002Fa\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003Ethe maven compiler (actually, the JVM) requires the \u003Ccode\u003E--enable-preview\u003C\u002Fcode\u003E flag to unlock the features. This is an obvious red flag for usage in production code. It is hard to assess the risk of using these features as well. In the past, many features of the JDK that shipped as previews in earlier versions of Java have actually functioned perfectly. Will that continue to be the case?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Ch1\u003E\n  \u003Ca name=\"wrapup\" href=\"#wrapup\"\u003E\n  \u003C\u002Fa\u003E\n  Wrap-up\n\u003C\u002Fh1\u003E\n\n\u003Cp\u003EOne cannot simply assume that \u003Ccode\u003Epreview\u003C\u002Fcode\u003E Java feature will become integrated into the JDK long‑term.\u003Cbr\u003E\nThe \u003Ca href=\"https:\u002F\u002Fdocs.oracle.com\u002Fen\u002Fjava\u002Fjavase\u002F15\u002Fdocs\u002Fapi\u002Fjava.base\u002Fjava\u002Flang\u002FRecord.html\"\u003EJavaDoc for the \u003Ccode\u003ERecord\u003C\u002Fcode\u003E class\u003C\u002Fa\u003E even contains a disclaimer:\u003C\u002Fp\u003E\n\n\u003Cblockquote\u003E\n\u003Cp\u003EThis class is associated with \u003Cem\u003Erecords\u003C\u002Fem\u003E, a preview feature of the Java language. Programs can only use this class when preview features are enabled. Preview features may be removed in a future release, or upgraded to permanent features of the Java language.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\n\u003Cp\u003EIn the case of \u003Ccode\u003Erecords\u003C\u002Fcode\u003E, however, you can breathe easy, as it is \u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F395\"\u003Eofficially integrated into Java 16\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAs for the other features described in this article:\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"table-wrapper-paragraph\"\u003E\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EFeature\u003C\u002Fth\u003E\n\u003Cth\u003EJava version introduced\u003C\u002Fth\u003E\n\u003Cth\u003EJava version finalized\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F394\"\u003EPattern Matching in \u003Ccode\u003Einstanceof\u003C\u002Fcode\u003E\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E14\u003C\u002Ftd\u003E\n\u003Ctd\u003E16\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F395\"\u003ERecords\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E14\u003C\u002Ftd\u003E\n\u003Ctd\u003E16\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F378\"\u003EMulti-line Strings\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E13\u003C\u002Ftd\u003E\n\u003Ctd\u003E14\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F361\"\u003ESwitch Expressions\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E12\u003C\u002Ftd\u003E\n\u003Ctd\u003E14\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F397\"\u003ESealed interfaces\u003C\u002Fa\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E15\u003C\u002Ftd\u003E\n\u003Ctd\u003E?\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\n\n\u003Cp\u003ESealed interfaces are still not officially being integrated. Even if they stick around, their syntax is subject to change. So that isn't a feature we were able to use here yet.\u003C\u002Fp\u003E\n\n\u003Cp\u003EThe other features that I listed as being integrated for version 16, have not changed syntactically since 15, (as far as I could tell). So with those, you're in the clear\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"verdict\" href=\"#verdict\"\u003E\n  \u003C\u002Fa\u003E\n  Verdict\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EIf you don't care about using the Google code formatter plugin for a while, and don't care about using sealed interfaces yet, you and your team can make the upgrade!\u003C\u002Fp\u003E\n\n\u003Cp\u003EIf for some reason you are still tempted to use the sealed interfaces anyways, I would strongly suggest not using them! It is not an officially integrated feature and could change or even go away.\u003Cbr\u003E\nA good example of this was the \"Switch Expressions\" feature. It was introduced in version 12 and overloaded the \u003Ccode\u003Ebreak\u003C\u002Fcode\u003E keyword. This was changed to \u003Ccode\u003Eyield\u003C\u002Fcode\u003E in version 13 to make more clear the intended behavior. Since it changed, it naturally needed to stay in preview in version 13, then finally was accepted in version 14. There's no telling what kind of iteration the sealed interfaces could still undergo.\u003C\u002Fp\u003E\n\n\n\u003Chr\u003E\n\n\u003Ch1\u003E\n  \u003Ca name=\"complete-sidenote-speaking-of-features-coming-and-going-or-staying\" href=\"#complete-sidenote-speaking-of-features-coming-and-going-or-staying\"\u003E\n  \u003C\u002Fa\u003E\n  Complete side-note | Speaking of features coming and going or staying\n\u003C\u002Fh1\u003E\n\n\u003Cp\u003ESometimes, it is nice to declare a \u003Ccode\u003EFunction\u003C\u002Fcode\u003E in a Java Lambda, but you plan to return a specific object regardless of the input. In the past, I have used an underscore \u003Ccode\u003E_\u003C\u002Fcode\u003E to define the variable of non-interest. \u003Ca href=\"https:\u002F\u002Fdocs.oracle.com\u002Fen\u002Fjava\u002Fjavase\u002F14\u002Flanguage\u002Fsmall-language-changes.html\"\u003EJava 9 had discontinued\u003C\u002Fa\u003E this from being allowed.\u003Cbr\u003E\nWhich I found interesting, considering that the introduction of \u003Ccode\u003E_\u003C\u002Fcode\u003E as a variable name, had the apparent intention of being used in \u003Ca href=\"https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F302\"\u003Elambdas for unused arguments\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EWhile in our code bases, we have now switched to using double underscores \u003Ccode\u003E__\u003C\u002Fcode\u003E for this, we also use Vavr. So a nice alternative might be to use \u003Ca href=\"https:\u002F\u002Fjavadoc.io\u002Fdoc\u002Fio.vavr\u002Fvavr\u002F0.10.3\u002Fio\u002Fvavr\u002FFunction1.html#constant-R-\"\u003E\u003Ccode\u003EFunction1.constant\u003C\u002Fcode\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\n",body_markdown:"---\ntitle: Are you seriously not using Java 15 yet?\npublished: true\ndescription: Experimenting with the latest and greatest features of Java 15 is a lot of fun! But how feasible is its use in your existing Java project?\ntags: java, java15, amazoncorretto, maven\ncover_image: https:\u002F\u002Fpbs.twimg.com\u002Fmedia\u002FEiC-NwHXkAUufg1.jpg:large\n---\n\n# Introduction\n* **What I want to accomplish**: I want to move to [Amazon Corretto 15](https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fwhat-is-corretto-15.html) so I can use the new features in my work projects. These features feel long awaited; So much so, [Kotlin](https:\u002F\u002Fsnyk.io\u002Fblog\u002Fkotlin-overtakes-scala-and-clojure-to-become-the-2nd-most-popular-language-on-the-jvm\u002F#:~:text=Particularly%20Kotlin%2C%20a%20language%20developed,%2C%20to%20an%20impressive%205.5%25.) and [Lombok](https:\u002F\u002Fwww.toptal.com\u002Fjava\u002Fwrite-fat-free-java-code-project-lombok) continue to gain popularity.\n* **How**: I plan to convert an existing Java project from amazon‑corretto‑11 to amazon‑corretto‑15, *and* add code to the project which will leverage the new features just to see how our infrastructure handles them.\n* ***Caveats***: This particular service is dockerized. So we would also need to update our docker image to use Java 15. I plan to run the project outside of docker just using `mvn` from a local shell.\n\n# Conversion process\n\n## Change the Maven compiler plugin version.\n\nIn the build section of the `pom.xml` file:\n\n```xml\n    \u003Cbuild\u003E\n        \u003Cplugins\u003E\n            . . .\n            \u003Cplugin\u003E\n                \u003CartifactId\u003Emaven-compiler-plugin\u003C\u002FartifactId\u003E\n                \u003Cversion\u003E3.8.1\u003C\u002Fversion\u003E\n                \u003Cconfiguration\u003E\n                    \u003Crelease\u003E15\u003C\u002Frelease\u003E\n                    \u003CcompilerArgs\u003E\n                        \u003Carg\u003E--enable-preview\u003C\u002Farg\u003E\n                    \u003C\u002FcompilerArgs\u003E\n                \u003C\u002Fconfiguration\u003E\n            \u003C\u002Fplugin\u003E\n            . . .\n            \u003Cplugin\u003E\n                \u003CgroupId\u003Eorg.apache.maven.plugins\u003C\u002FgroupId\u003E\n                \u003CartifactId\u003Emaven-surefire-plugin\u003C\u002FartifactId\u003E\n                \u003Cconfiguration\u003E\n                    \u003CforkCount\u003E0\u003C\u002FforkCount\u003E\n                    \u003CargLine\u003E--enable-preview\u003C\u002FargLine\u003E\n                \u003C\u002Fconfiguration\u003E\n            \u003C\u002Fplugin\u003E\n            . . .\n            \u003Cplugin\u003E\n                \u003CgroupId\u003Eorg.apache.maven.plugins\u003C\u002FgroupId\u003E\n                \u003CartifactId\u003Emaven-failsafe-plugin\u003C\u002FartifactId\u003E\n                \u003Cconfiguration\u003E\n                    \u003CargLine\u003E--enable-preview\u003C\u002FargLine\u003E\n                \u003C\u002Fconfiguration\u003E\n            \u003C\u002Fplugin\u003E\n        \u003C\u002Fplugins\u003E\n    \u003Cbuild\u003E\n```\n\n*[I needed `forkCount` in the `surefire` plugin configuration](https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F55303837\u002Fproblem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe\u002F55311987#55311987) because the parent pom declares something higher than `0`, [SUREFIRE-1528](https:\u002F\u002Fissues.apache.org\u002Fjira\u002Fprojects\u002FSUREFIRE\u002Fissues\u002FSUREFIRE-1528?filter=allopenissues).*\n\nThis is a great reminder that some of the features in 15 are technically experimental still and require preview.\nWhile I would be hesitant to use preview features in a production system, Amazon has [faithfully iterated on corretto-11](https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-11-ug\u002Fpatches.html) through patches. Thus, as issues arise, there is iteration to fix those problems, and I believe that would also extend to preview features.\nAnd I think it's safe to assume that [corretto-15 will also have patches issued](https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fpatches.html).\n\n## Installing Amazon Corretto 15\n\n[Download `amazon-corretto-15`](https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fdownloads-list.html)\n\nOr for the Linux users, you couldn't ask for a sweeter time: [Linux package managed installation instructions](https:\u002F\u002Fdocs.aws.amazon.com\u002Fcorretto\u002Flatest\u002Fcorretto-15-ug\u002Fgeneric-linux-install.html)\n\n## Updating my IDE\n\n### IntelliJ\n\n[Download the latest IntelliJ](https:\u002F\u002Fwww.jetbrains.com\u002Fidea\u002Fdownload) and you will have been all set to use [Java 15 since version 2020.2](https:\u002F\u002Fblog.jetbrains.com\u002Fidea\u002F2020\u002F09\u002Fjava-15-and-intellij-idea\u002F)!\n\n### Eclipse\n\n[Download the latest Eclipse](https:\u002F\u002Fwww.eclipse.org\u002Fdownloads\u002F)\n\n### Using the JDK\n\nJust make sure when you're setting up your IDE, that you point to the correct\u003Cspan style=\"color:gray\"\u003E\u003Cem\u003Eto\u003C\u002Fem\u003E\u003C\u002Fspan\u003E JDK installation!\n\n# Let's try out these Java 15 features\n\n## No more need for lombok here | Records\n\nHere is a simple class in the existing project. Users in this domain are given a \"baby step\" between `0` and `7`.\n\nWith Lombok:\n\n```java\n@lombok.Data\npublic class UserBabyStep {\n  public static final UserBabyStep NO_BABY_STEP = new UserBabyStep();\n\n  public static final int DEFAULT_BABY_STEP = 0;\n  public static final int MAX_BABY_STEP = 7;\n\n  private final int value;\n\n  public UserBabyStep() {\n    this.value = DEFAULT_BABY_STEP;\n  }\n\n  public UserBabyStep(final int value) {\n    if (value \u003C 0 || value \u003E MAX_BABY_STEP)\n      throw new IllegalArgumentException(\n          \"The Baby Step of a user must be between 0 and 7 inclusively.\");\n    this.value = value;\n  }\n}\n```\n\nHello `records`!\n\n```java\npublic record UserBabyStep(int value) {\n  public static final UserBabyStep NO_BABY_STEP = new UserBabyStep();\n\n  public static final int DEFAULT_BABY_STEP = 0;\n  public static final int MAX_BABY_STEP = 7;\n\n  public UserBabyStep() {\n    this(DEFAULT_BABY_STEP);\n  }\n\n  public UserBabyStep(final int value) {\n    if (value \u003C 0 || value \u003E MAX_BABY_STEP)\n      throw new IllegalArgumentException(\n          \"The Baby Step of a user must be between 0 and 7 inclusively.\");\n    this.value = value;\n  }\n}\n```\n\n### Notes for `record`\nLombok will generate a more Java‑canonical getter method for fields: `getValue()`. The getter method produced by the `record` feature is: `value()`.\nThis is more similar to how the [Immutables library](https:\u002F\u002Fimmutables.github.io\u002F) operates, and *is* a fancy way to get around when you may, or may not want `isFlag` for `boolean` getters. Especially if you are like me, and prefer leveraging the type system for wrapping primitives in a more domain‑driven class.\n\nAnother note is that `record`‑declared classes **cannot** extend another class! Only implement interfaces.\n\n#### Necessary usage of the canonical constructor\nFinally, when using records, all constructors **must** call the canonical constructor. That is, the constructor with the same types, order, and number of arguments that are declared on the record itself.\n\n## Who's up for Checkers?\n\nInstead of just looking for more things to change around in this existing project, I'm going to add irrelevant code simply for the sake of flexing the new features. And then, I want to see how it compiles and how the project plugins handle it.\n\n**Also**, I isolated the [checkers code](https:\u002F\u002Fgithub.com\u002Faaiezza\u002Fcheckers) if you'd like to take a closer look.\n\n### Sealed Interfaces\n\n\u003E I'm going to mess around with this here, however, see the note at the end of the article concerning sealed interfaces.\n\nA checker board tends to have two alternating colors tiling a 8 x 8 board.\n\n![checkerboard](https:\u002F\u002Fencrypted-tbn0.gstatic.com\u002Fimages?q=tbn:ANd9GcT0Dlvfi2C_DcaNEtIYRaEEAGD-YVgJHRarbNM9m96QZBVb9nvcUBXm7RBu-mReO0T-Ba6fhFU&usqp=CAc)\n\nEach `space`\u002Ftile can have `contents`; a red or black token.\n\nTo demonstrate the difference between individual tiles, there is a sealed interface called `Space` which `permits` a `BlackSpace` and a `RedSpace`. Each subclass then also implements the `wither` method that allows a space to take new contents.\n\n```java\npublic enum Contents {\n  EMPTY, BLACK, RED;\n}\n\npublic static sealed interface Space permits BlackSpace, RedSpace {\n  public Contents contents();\n  public int x();\n  public int y();\n  public Space withContents(final Contents state);\n\n  public default boolean isEmpty() {\n    return contents() == Contents.EMPTY;\n  }\n\n  public default boolean contains(final Contents state) {\n    return contents() == state;\n  }\n\n  public record BlackSpace(Contents contents, int x, int y) implements Space {\n    public BlackSpace(final int x, final int y) {\n      this(Contents.EMPTY, x, y);\n    }\n\n    @Override\n    public Space withContents(final Contents contents) {\n      return new BlackSpace(contents, x, y);\n    }\n  }\n\n  public record RedSpace(Contents contents, int x, int y) implements Space {\n    public RedSpace(final int x, final int y) {\n      this(Contents.EMPTY, x, y);\n    }\n\n    @Override\n    public Space withContents(final Contents contents) {\n      return new RedSpace(contents, x, y);\n    }\n  }\n}\n```\n\nNow our `CheckerBoard` can look a little something like this:\n\n```java\n@SuppressWarnings(\"preview\")\npublic class CheckerBoard {\n  private static int MAX = 8;\n  private final Space[][] spaces;\n\n  private CheckerBoard() {\n    spaces = new Space[MAX][MAX];\n    forEachSpace(\n        (i, j) -\u003E spaces[i][j] =\n          ((i + j) % 2 == 0)\n            ? new BlackSpace(i, j)\n            : new RedSpace(i, j));\n  }\n\n  . . .\n\n}\n```\n\n**Note**: that, if you are anything like me, you aren't a fan of warnings. So here's a way to [suppress them](https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F59019993\u002Fhow-can-i-suppress-javac-warning-about-preview-features) for the preview features we'll be using.\n\n### Multi-line Strings\n\nJava eliminates all leading whitespace between newlines!\nLuckily, I already had a scenario where I would not need leading spaces in my string anyways:\n\n```java\nclass CheckerBoardTest {\n  @Test\n  void shouldPrintBoardAsExpected() {\n    final CheckerBoard subject = CheckerBoard.freshBoardWithTokens();\n\n    assertThat(subject.toString())\n      .isEqualTo(\"\"\"\n            Ω · Ω · Ω · Ω ·\n            · Ω · Ω · Ω · Ω\n            Ω · Ω · Ω · Ω ·\n            · • · • · • · •\n            • · • · • · • ·\n            · ☺ · ☺ · ☺ · ☺\n            ☺ · ☺ · ☺ · ☺ ·\n            · ☺ · ☺ · ☺ · ☺\n            \"\"\");\n  }\n}\n```\n\n*The google format spec basically has no idea what to do with this…*\n\n### Pattern Matching in `instanceof` (`instanceof` casting)\n\nThis is a really handy trick that I wish was introduced much earlier.\n\n\u003E It is also reminiscent of [a feature of the AssertJ testing library](https:\u002F\u002Fassertj.github.io\u002Fdoc\u002F#assertj-core-3.13.0-asInstanceOf).\n\nThe key use of this feature is to prevent a manual class cast of a variable after you are *only* in a block of code based on the type of a variable.\n\nSo instead of:\n\n```java\npublic void method(final Animal animal) {\n  if (animal instanceof Cat) {\n    ((Cat) animal).meow();\n  }\n}\n```\n\nWe can do:\n\n```java\npublic void method(final Animal animal) {\n  if (animal instanceof Cat cat) {\n    cat.meow();\n  }\n}\n```\n\nThis method will set up a new checkboard and place the players' tokens in their starting positions. Since pieces should only be allowed to be played to the black spaces on the board, I can place pieces using the a `wither` to keep each `space` instance of my board immutable. \n\n```java\npublic static CheckerBoard freshBoardWithTokens() {\n  final CheckerBoard board = new CheckerBoard();\n\n  board.forTopThreeRowsOfSpaces(space -\u003E {\n    if (space instanceof BlackSpace s) {\n      board.spaces[s.x()][s.y()] = s.withContents(BLACK);\n    }\n  });\n\n  board.forBottomThreeRowsOfSpaces(space -\u003E {\n    if (space instanceof BlackSpace s) {\n      board.spaces[s.x()][s.y()] = s.withContents(RED);\n    }\n  });\n\n  return board;\n}\n```\n\n\u003E To be fair, the cast here is not necessary. So if you can come up with a better use case, I'd be happy to hear about it in the comments!\n\n### Switch Expression\n\nOur `CheckerBoard` class has a convenient `toString` method for a user friendly visual:\n\n```java\n@Override\npublic String toString() {\n  return streamSpaces()\n    .map(space -\u003E {\n      final String strSpace = (switch (space.contents()) {\n        case EMPTY:\n          yield space instanceof RedSpace? \"·\" : \"•\";\n        case BLACK:\n          yield \"Ω\";\n        case RED:\n          yield \"☺\";\n      });\n\n      return String.format(\n          \"%s%s\",\n          strSpace,\n          space.isRightEdge()\n            ? \"\\n\"\n            : \" \");\n    })\n    .reduce(new StringBuilder(), StringBuilder::append, (l, r) -\u003E l)\n    .toString();\n}\n```\nThat new `yield` keyword at work! I can essentially iterate over each `space` to yield a character.\n\n# Issues\n\n* google code formatter breaks. It looks like it breaks on records, multi-line strings, and the `yield` keyword that occurs in the switch expressions\n  * To solve this, I think some motivated person could just start collaborating on Google GitHub repos for this. [The spec repo](\u002F) [The configuration repo]\n(\u002F)\n* the maven compiler (actually, the JVM) requires the `--enable-preview` flag to unlock the features. This is an obvious red flag for usage in production code. It is hard to assess the risk of using these features as well. In the past, many features of the JDK that shipped as previews in earlier versions of Java have actually functioned perfectly. Will that continue to be the case?\n\n# Wrap-up\n\nOne cannot simply assume that `preview` Java feature will become integrated into the JDK long‑term.\nThe [JavaDoc for the `Record` class](https:\u002F\u002Fdocs.oracle.com\u002Fen\u002Fjava\u002Fjavase\u002F15\u002Fdocs\u002Fapi\u002Fjava.base\u002Fjava\u002Flang\u002FRecord.html) even contains a disclaimer:\n\n\u003E This class is associated with _records_, a preview feature of the Java language. Programs can only use this class when preview features are enabled. Preview features may be removed in a future release, or upgraded to permanent features of the Java language.\n\nIn the case of `records`, however, you can breathe easy, as it is [officially integrated into Java 16](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F395).\n\nAs for the other features described in this article:\n\n| Feature | Java version introduced | Java version finalized |\n|---|---|---|\n| [Pattern Matching in `instanceof`](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F394) | 14 | 16 |\n| [Records](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F395) | 14 | 16 |\n| [Multi-line Strings](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F378) | 13 | 14 |\n| [Switch Expressions](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F361) | 12 | 14 |\n| [Sealed interfaces](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F397) | 15 | ? |\n\nSealed interfaces are still not officially being integrated. Even if they stick around, their syntax is subject to change. So that isn't a feature we were able to use here yet.\n\nThe other features that I listed as being integrated for version 16, have not changed syntactically since 15, (as far as I could tell). So with those, you're in the clear\n\n## Verdict\n\nIf you don't care about using the Google code formatter plugin for a while, and don't care about using sealed interfaces yet, you and your team can make the upgrade!\n\nIf for some reason you are still tempted to use the sealed interfaces anyways, I would strongly suggest not using them! It is not an officially integrated feature and could change or even go away.\nA good example of this was the \"Switch Expressions\" feature. It was introduced in version 12 and overloaded the `break` keyword. This was changed to `yield` in version 13 to make more clear the intended behavior. Since it changed, it naturally needed to stay in preview in version 13, then finally was accepted in version 14. There's no telling what kind of iteration the sealed interfaces could still undergo.\n\n---\n\n# Complete side-note | Speaking of features coming and going or staying\nSometimes, it is nice to declare a `Function` in a Java Lambda, but you plan to return a specific object regardless of the input. In the past, I have used an underscore `_` to define the variable of non-interest. [Java 9 had discontinued](https:\u002F\u002Fdocs.oracle.com\u002Fen\u002Fjava\u002Fjavase\u002F14\u002Flanguage\u002Fsmall-language-changes.html) this from being allowed.\nWhich I found interesting, considering that the introduction of `_` as a variable name, had the apparent intention of being used in [lambdas for unused arguments](https:\u002F\u002Fopenjdk.java.net\u002Fjeps\u002F302).\n\nWhile in our code bases, we have now switched to using double underscores `__` for this, we also use Vavr. So a nice alternative might be to use [`Function1.constant`](https:\u002F\u002Fjavadoc.io\u002Fdoc\u002Fio.vavr\u002Fvavr\u002F0.10.3\u002Fio\u002Fvavr\u002FFunction1.html#constant-R-).",user:{name:"Alessandro Aiezza",username:e,twitter_username:"scribaniwannabe",github_username:e,website_url:a,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--1O79dLND--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F140251\u002F959f7c09-dd7b-4dc5-893a-53f9c741c553.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--81nVqfEU--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F140251\u002F959f7c09-dd7b-4dc5-893a-53f9c741c553.jpeg"}}},serverRendered:true,routePath:"\u002Farticles\u002Faaiezza\u002F571607",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"https:\u002F\u002Fdev.to\u002Faaiezza\u002Fare-you-seriously-not-using-java-15-yet-5c86",10,"2021-02-10T18:08:20Z","aaiezza"));