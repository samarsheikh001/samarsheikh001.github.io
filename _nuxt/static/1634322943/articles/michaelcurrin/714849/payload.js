__NUXT_JSONP__("/articles/michaelcurrin/714849", (function(a,b,c,d,e){a.type_of="article";a.id=714849;a.title="Upgrade to Ruby 3 - update projects üî©";a.description="Now, you should have Ruby 3 ready.   Your Ruby projects will have stale gems and lockfiles though, so...";a.readable_publish_date="Jun 1";a.slug="upgrade-to-ruby-3-update-projects-9id";a.path="\u002Fmichaelcurrin\u002Fupgrade-to-ruby-3-update-projects-9id";a.url=b;a.comments_count=1;a.public_reactions_count=c;a.collection_id=13019;a.published_timestamp=d;a.positive_reactions_count=c;a.cover_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--UbEEa6_D--\u002Fc_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fxq9qst69bev2poh774sd.png";a.social_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--XAE7dKhG--\u002Fc_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fxq9qst69bev2poh774sd.png";a.canonical_url=b;a.created_at="2021-06-01T09:25:00Z";a.edited_at="2021-06-01T10:12:47Z";a.crossposted_at=null;a.published_at=d;a.last_comment_at="2021-06-02T05:46:34Z";a.reading_time_minutes=2;a.tag_list="jekyll, ruby, upgrade, tutorial";a.tags=["jekyll","ruby","upgrade","tutorial"];a.body_html="\u003Cp\u003ENow, you should have Ruby 3 ready. \u003C\u002Fp\u003E\n\n\u003Cp\u003EYour Ruby projects will have stale gems and lockfiles though, so you need to make changes to them.\u003C\u002Fp\u003E\n\n\u003Cp\u003EI'm going to walk you through how to update your projects to get them using Ruby 3. This will be similar across projects but I will focus on Jekyll projects. I like to build websites using \u003Ca href=\"https:\u002F\u002Fmichaelcurrin.github.io\u002Fdev-resources\u002Fresources\u002Fjekyll\u002F\"\u003EJekyll\u003C\u002Fa\u003E as a static site generator. I have a demo \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FMichaelCurrin\u002Fjekyll-blog-demo\"\u003Ehere\u003C\u002Fa\u003E if you are interest - including an update to the \u003Ccode\u003EGemfile\u003C\u002Fcode\u003E to support Ruby 3.\u003C\u002Fp\u003E\n\n\u003Cp\u003ERepeat the steps below for each Ruby project of yours.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"remove-old-gems\" href=\"#remove-old-gems\"\u003E\n  \u003C\u002Fa\u003E\n  Remove old gems üôÖ‚Äç‚ôÇÔ∏è üíé\n\u003C\u002Fh2\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Erm\u003C\u002Fspan\u003E \u003Cspan class=\"nt\"\u003E-rf\u003C\u002Fspan\u003E vendor\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThis is not strictly necessary, as 2.7 and 3.0 gems are kept in separate directories in the \u003Ccode\u003Evendor\u003C\u002Fcode\u003E directory. But if you are never going to use those old gems again, then you can reclaim some space now.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"remove-lockfile-%F0%9F%97%83\" href=\"#remove-lockfile-%F0%9F%97%83\"\u003E\n  \u003C\u002Fa\u003E\n  Remove lockfile üôÖ‚Äç‚ôÇÔ∏è üóÉ\n\u003C\u002Fh2\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Erm \u003C\u002Fspan\u003EGemfile.lock\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EI found that that I got errors running Jekyll, unless I dropped the old lockfile and started over with a fresh set of the latest gems.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"install-gems\" href=\"#install-gems\"\u003E\n  \u003C\u002Fa\u003E\n  Install gems\n\u003C\u002Fh2\u003E\n\n\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Ebundle \u003Cspan class=\"nb\"\u003Einstall\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThen commit your lockfile.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"install-missing-gems\" href=\"#install-missing-gems\"\u003E\n  \u003C\u002Fa\u003E\n  Install missing gems üöõ üì¶\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EFor Jekyll in Ruby 3, you'll get this error on serving.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight plaintext\"\u003E\u003Ccode\u003ELoad error: cannot load such file ‚Äì webrick\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EFix that by installing Webrick, as per Jekyll issue \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjekyll\u002Fjekyll\u002Fissues\u002F8523\"\u003E#8523\u003C\u002Fa\u003E. Perhaps this will be fixed in newer releases of Jekyll.\u003C\u002Fp\u003E\n\n\u003Cp\u003ERun this to add the gem to your \u003Ccode\u003EGemfile\u003C\u002Fcode\u003E and install it.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Ebundle add webrick\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003ECommit your lockfile.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"start-jekyll\" href=\"#start-jekyll\"\u003E\n  \u003C\u002Fa\u003E\n  Start Jekyll\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EYour Jekyll site should be ready to use now.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight shell\"\u003E\u003Ccode\u003E\u003Cspan class=\"nv\"\u003E$ \u003C\u002Fspan\u003Ebundle \u003Cspan class=\"nb\"\u003Eexec \u003C\u002Fspan\u003Ejekyll serve \u003Cspan class=\"nt\"\u003E--trace\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\n\u003Chr\u003E\n\n\u003Cp\u003EThanks for reading. I hope that eases your journey to using Ruby 3.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"credits\" href=\"#credits\"\u003E\n  \u003C\u002Fa\u003E\n  Credits üì∏\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003ECover image created with Google Jamboard.\u003C\u002Fp\u003E\n\n\u003Cp\u003EPhoto by \u003Ca href=\"https:\u002F\u002Funsplash.com\u002F@joshuafuller?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\"\u003EJoshua Fuller\u003C\u002Fa\u003E on \u003Ca href=\"https:\u002F\u002Funsplash.com\u002F?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\"\u003EUnsplash\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n";a.body_markdown="Now, you should have Ruby 3 ready. \n\nYour Ruby projects will have stale gems and lockfiles though, so you need to make changes to them.\n\nI'm going to walk you through how to update your projects to get them using Ruby 3. This will be similar across projects but I will focus on Jekyll projects. I like to build websites using [Jekyll](https:\u002F\u002Fmichaelcurrin.github.io\u002Fdev-resources\u002Fresources\u002Fjekyll\u002F) as a static site generator. I have a demo [here](https:\u002F\u002Fgithub.com\u002FMichaelCurrin\u002Fjekyll-blog-demo) if you are interest - including an update to the `Gemfile` to support Ruby 3.\n\nRepeat the steps below for each Ruby project of yours.\n\n\n## Remove old gems üôÖ‚Äç‚ôÇÔ∏è üíé\n\n```sh\n$ rm -rf vendor\n```\n\nThis is not strictly necessary, as 2.7 and 3.0 gems are kept in separate directories in the `vendor` directory. But if you are never going to use those old gems again, then you can reclaim some space now.\n\n\n## Remove lockfile üôÖ‚Äç‚ôÇÔ∏è üóÉ\n\n```sh\n$ rm Gemfile.lock\n```\n\nI found that that I got errors running Jekyll, unless I dropped the old lockfile and started over with a fresh set of the latest gems.\n\n\n## Install gems\n\n```sh\n$ bundle install\n```\n\nThen commit your lockfile.\n\n\n## Install missing gems üöõ üì¶\n\nFor Jekyll in Ruby 3, you'll get this error on serving.\n\n```\nLoad error: cannot load such file ‚Äì webrick\n```\n\nFix that by installing Webrick, as per Jekyll issue [#8523](https:\u002F\u002Fgithub.com\u002Fjekyll\u002Fjekyll\u002Fissues\u002F8523). Perhaps this will be fixed in newer releases of Jekyll.\n\nRun this to add the gem to your `Gemfile` and install it.\n\n```sh\n$ bundle add webrick\n```\n\nCommit your lockfile.\n\n\n## Start Jekyll\n\nYour Jekyll site should be ready to use now.\n\n```sh\n$ bundle exec jekyll serve --trace\n```\n\n---\n\nThanks for reading. I hope that eases your journey to using Ruby 3.\n\n\n## Credits üì∏\n\nCover image created with Google Jamboard.\n\nPhoto by \u003Ca href=\"https:\u002F\u002Funsplash.com\u002F@joshuafuller?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\u003EJoshua Fuller\u003C\u002Fa\u003E on \u003Ca href=\"https:\u002F\u002Funsplash.com\u002F?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\u003EUnsplash\u003C\u002Fa\u003E\n  \n";a.user={name:"Michael",username:"michaelcurrin",twitter_username:e,github_username:e,website_url:"https:\u002F\u002Fmichaelcurrin.github.io\u002F",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--pGkcbLuo--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F48064\u002F82de4775-b05d-42fe-947a-a2f2088c970b.png",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--tveebPWQ--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F48064\u002F82de4775-b05d-42fe-947a-a2f2088c970b.png"};return {data:[{}],fetch:{"data-v-25febe66:0":{article:a}},mutations:[["SET_CURRENT_ARTICLE",a]]}}({},"https:\u002F\u002Fdev.to\u002Fmichaelcurrin\u002Fupgrade-to-ruby-3-update-projects-9id",6,"2021-06-01T09:42:49Z","MichaelCurrin")));