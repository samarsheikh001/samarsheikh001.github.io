__NUXT_JSONP__("/articles/felixhaeberle/689905", (function(a,b,c,d,e,f){b.type_of="article";b.id=689905;b.title="Responsive fix for the Next.js Image component";b.description="I found myself in the situation where I wanted to have real responsive images without providing height or width to the Image component.";b.readable_publish_date="May 6";b.slug="responsive-fix-for-the-next-js-image-component-1351";b.path="\u002Ffelixhaeberle\u002Fresponsive-fix-for-the-next-js-image-component-1351";b.url=c;b.comments_count=5;b.public_reactions_count=d;b.collection_id=a;b.published_timestamp=e;b.positive_reactions_count=d;b.cover_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--s17o3YRa--\u002Fc_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Faj2tom81mn4zsw1yfet4.jpg";b.social_image="https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--7UZzqANP--\u002Fc_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Faj2tom81mn4zsw1yfet4.jpg";b.canonical_url=c;b.created_at="2021-05-06T15:59:51Z";b.edited_at="2021-05-06T16:06:02Z";b.crossposted_at=a;b.published_at=e;b.last_comment_at="2021-09-08T13:23:56Z";b.reading_time_minutes=2;b.tag_list="javascript, next, react, webdev";b.tags=["javascript","next","react","webdev"];b.body_html="\u003Cp\u003ECurrently, \u003Ccode\u003Elayout=\"responsive\"\u003C\u002Fcode\u003E requires you to set \u003Cstrong\u003Ewidth\u003C\u002Fstrong\u003E and \u003Cstrong\u003Eheight\u003C\u002Fstrong\u003E which you don't want to set because you \u003Cstrong\u003Edon't know what the aspect ratio\u003C\u002Fstrong\u003E is going to be.\u003C\u002Fp\u003E\n\n\u003Cp\u003EThis is a new change since version \u003Cem\u003E10.0.1\u003C\u002Fem\u003E where the team around Next deprecated the \u003Ccode\u003Eunsized\u003C\u002Fcode\u003E prop, replacing it with \u003Ccode\u003Elayout=\"fill\"\u003C\u002Fcode\u003E â€“ which doesn't gives you the same functionality.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAlso, if you're going to set \u003Ccode\u003Elayout=\"fill\"\u003C\u002Fcode\u003E and \u003Ccode\u003EobjectFit=\"cover\"\u003C\u002Fcode\u003E on the Image component you will get a strange behavior. There are cases in which you can fix this with position: relative on the parent item, but then you also have to set \u003Ccode\u003Ewidth\u003C\u002Fcode\u003E and \u003Ccode\u003Eheight\u003C\u002Fcode\u003E which you don't want in case of a responsive image.\u003C\u002Fp\u003E\n\n\u003Cp\u003EThere is an \u003Cstrong\u003Eeasy fix\u003C\u002Fstrong\u003E to this problem, you only have to set a wrapper around the Image component to give a bit of extra styling.\u003C\u002Fp\u003E\n\n\u003Cp\u003EFirst, we have to add the wrapping item with the class image-container. Please adjust this to fit your styling needs, e.g. if you're using styled-components the syntax will look slightly different.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight jsx\"\u003E\u003Ccode\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003EclassName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eimage-container\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EImage\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Esrc\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Epath\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Elayout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"fill\"\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003EclassName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"si\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E&lt;\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EFor this to work, it's important that you add two classes: image-container to the parent element and image to the Image component. After adding these classes, you should add this styling.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight css\"\u003E\u003Ccode\u003E\u003Cspan class=\"nc\"\u003E.image-container\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"nl\"\u003Ewidth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"m\"\u003E100%\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"err\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"err\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"err\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nl\"\u003Eposition\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eunset\u003C\u002Fspan\u003E \u003Cspan class=\"cp\"\u003E!important\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"nc\"\u003E.image\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nl\"\u003Eobject-fit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Econtain\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nl\"\u003Ewidth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"m\"\u003E100%\u003C\u002Fspan\u003E \u003Cspan class=\"cp\"\u003E!important\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nl\"\u003Eposition\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Erelative\u003C\u002Fspan\u003E \u003Cspan class=\"cp\"\u003E!important\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nl\"\u003Eheight\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eunset\u003C\u002Fspan\u003E \u003Cspan class=\"cp\"\u003E!important\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"err\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAnd that's it! ðŸŽ‰\u003C\u002Fp\u003E\n\n\u003Cp\u003EYour images should now display with the right dimensions and should scale up to 100% width and at the same time having the correct height.\u003C\u002Fp\u003E\n\n";b.body_markdown="---\ntitle: Responsive fix for the Next.js Image component\npublished: true\ndescription: I found myself in the situation where I wanted to have real responsive images without providing height or width to the Image component.\ntags: javascript, next, react, webdev\ncover_image: https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Faj2tom81mn4zsw1yfet4.jpg\n---\n\nCurrently, `layout=\"responsive\"` requires you to set **width** and **height** which you don't want to set because you **don't know what the aspect ratio** is going to be.\n\nThis is a new change since version *10.0.1* where the team around Next deprecated the `unsized` prop, replacing it with `layout=\"fill\"` â€“ which doesn't gives you the same functionality.\n\nAlso, if you're going to set `layout=\"fill\"` and `objectFit=\"cover\"` on the Image component you will get a strange behavior. There are cases in which you can fix this with position: relative on the parent item, but then you also have to set `width` and `height` which you don't want in case of a responsive image.\n\nThere is an **easy fix** to this problem, you only have to set a wrapper around the Image component to give a bit of extra styling.\n\nFirst, we have to add the wrapping item with the class image-container. Please adjust this to fit your styling needs, e.g. if you're using styled-components the syntax will look slightly different.\n\n\n```jsx\n\u003Cdiv className={'image-container'}\u003E\n  \u003CImage src={path} layout=\"fill\" className={'image'} \u002F\u003E\n\u003C\u002Fdiv\u003E\n```\n\n\nFor this to work, it's important that you add two classes: image-container to the parent element and image to the Image component. After adding these classes, you should add this styling.\n\n\n```css\n.image-container {\n\n  width: 100%;\n\n  \u003E div {\n    position: unset !important;\n  }\n\n  .image {\n    object-fit: contain;\n    width: 100% !important;\n    position: relative !important;\n    height: unset !important;\n  }\n}\n```\n\n\nAnd that's it! ðŸŽ‰\n\n\nYour images should now display with the right dimensions and should scale up to 100% width and at the same time having the correct height.\n\n\n\n\n\n\n\n";b.user={name:"Felix HÃ¤berle",username:f,twitter_username:"felix_haeberle",github_username:f,website_url:a,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--D3VAaMLA--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F97535\u002F0de0f5fd-4e83-4cc3-b305-684523f246ac.png",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--xbYfuqCl--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F97535\u002F0de0f5fd-4e83-4cc3-b305-684523f246ac.png"};return {data:[{}],fetch:{"data-v-25febe66:0":{article:b}},mutations:[["SET_CURRENT_ARTICLE",b]]}}(null,{},"https:\u002F\u002Fdev.to\u002Ffelixhaeberle\u002Fresponsive-fix-for-the-next-js-image-component-1351",42,"2021-05-06T16:01:02Z","felixhaeberle")));