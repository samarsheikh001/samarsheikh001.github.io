window.__NUXT__=(function(a,b,c,d){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634322943",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:500948,title:"How to show a loading bar when changing routes in NextJS",description:"Setting up   I spent days trying to find the right thing to google on how to setup the blu...",readable_publish_date:"Oct 29 '20",slug:"how-to-show-a-loading-bar-when-changing-routes-in-nextjs-304e",path:"\u002Fdebosthefirst\u002Fhow-to-show-a-loading-bar-when-changing-routes-in-nextjs-304e",url:c,comments_count:9,public_reactions_count:d,collection_id:a,published_timestamp:b,positive_reactions_count:d,cover_image:a,social_image:"https:\u002F\u002Fdev.to\u002Fsocial_previews\u002Farticle\u002F500948.png",canonical_url:c,created_at:b,edited_at:a,crossposted_at:a,published_at:b,last_comment_at:"2021-10-11T12:08:42Z",reading_time_minutes:2,tag_list:"nextjs, loading, nprogress, route",tags:["nextjs","loading","nprogress","route"],body_html:"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--0Tdwpd-U--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F800\u002F1%2A9E6_50z9VcxAoSdotHaNyw.gif\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--0Tdwpd-U--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F800\u002F1%2A9E6_50z9VcxAoSdotHaNyw.gif\" alt=\"Nprogress\" loading=\"lazy\" data-animated=\"true\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"setting-up\" href=\"#setting-up\"\u003E\n  \u003C\u002Fa\u003E\n  Setting up\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EI spent days trying to find the right thing to google on how to setup the blue loading bar that shows at the top of your screen when navigating between routes in NextJS. It's important to have this loading indicator to signify that a route change is occuring to avoid users assuming that the application has frozen.\u003Cbr\u003E\nThis article assumes that you already have NextJS setup. To get started, we need to install the \u003Ccode\u003Enprogress\u003C\u002Fcode\u003E library.\u003Cbr\u003E\nRun\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight plaintext\"\u003E\u003Ccode\u003Enpm install nprogress\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch2\u003E\n  \u003Ca name=\"in-appjs\" href=\"#in-appjs\"\u003E\n  \u003C\u002Fa\u003E\n  In _app.js\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EInside \u003Cstrong\u003Epages\u002F_app.js\u003C\u002Fstrong\u003E, add the following piece of code.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight javascript\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ENProgress\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Enprogress\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EHead\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Enext\u002Fhead\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ERouter\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Enext\u002Frouter\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003ERouter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonRouteChangeStart\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eurl\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003ENProgress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Estart\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003ERouter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonRouteChangeComplete\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ENProgress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003ERouter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EonRouteChangeError\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ENProgress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Edone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EMyApp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"o\"\u003E&lt;&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EHead\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E\n               \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elink\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nx\"\u003Erel\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Estylesheet\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nx\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Ehttps:\u002F\u002Fcdnjs.cloudflare.com\u002Fajax\u002Flibs    \u002Fnprogress\u002F0.2.0\u002Fnprogress.min.css\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\n          \u003Cspan class=\"o\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n             \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002FHead\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E&gt;\n\u003C\u002Fspan\u003E              \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EComponent\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E…\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EpageProps\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ekey\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eroute\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"sr\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E&gt;\n\u003C\u002Fspan\u003E        \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E&gt;\n\u003C\u002Fspan\u003E      \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAbove, we access the Router object available inside \u003Cstrong\u003Enext\u002Frouter\u003C\u002Fstrong\u003E to ensure. \u003Ccode\u003EonRouteChangeStart\u003C\u002Fcode\u003E i.e when a Route change is in progress, NProgress will run i.e \u003Ccode\u003ENProgress.start\u003C\u002Fcode\u003E. Once the route change is done i.e \u003Ccode\u003EonRouteChangeComplete\u003C\u002Fcode\u003E, we call the done method on \u003Ccode\u003ENProgress\u003C\u002Fcode\u003E. We call the same method if there's an error.\u003Cbr\u003E\nI had issues using the NProgress stylesheet from the \u003Ccode\u003Enprogress\u003C\u002Fcode\u003E package within my application and resorted to using the stylesheet they provide via their CDN. Without the stylesheet, you won't notice anything on the screen.\u003Cbr\u003E\nNow, when you navigate to any page within your application, you should see a blue loading bar at the top of your screen\u003C\u002Fp\u003E\n\n",body_markdown:"![Nprogress](https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F800\u002F1*9E6_50z9VcxAoSdotHaNyw.gif)\n\n## Setting up\nI spent days trying to find the right thing to google on how to setup the blue loading bar that shows at the top of your screen when navigating between routes in NextJS. It's important to have this loading indicator to signify that a route change is occuring to avoid users assuming that the application has frozen.\nThis article assumes that you already have NextJS setup. To get started, we need to install the `nprogress` library.\nRun\n```\nnpm install nprogress\n```\n## In \\_app.js\nInside **pages\u002F\\_app.js**, add the following piece of code.\n```js\nimport NProgress from \"nprogress\"\nimport Head from \"next\u002Fhead\"\nimport Router from \"next\u002Frouter\"\n\nRouter.onRouteChangeStart = url =\u003E {\n  NProgress.start()\n}\n\nRouter.onRouteChangeComplete = () =\u003E NProgress.done()\n\nRouter.onRouteChangeError = () =\u003E NProgress.done()\n\nexport default function MyApp() {\n    return (\n        \u003C\u003E\n            \u003CHead\u003E\n               \u003Clink\n                rel=\"stylesheet\"\n                href=\"https:\u002F\u002Fcdnjs.cloudflare.com\u002Fajax\u002Flibs    \u002Fnprogress\u002F0.2.0\u002Fnprogress.min.css\"\n          \u002F\u003E\n             \u003C\u002FHead\u003E\n              \u003CComponent {…pageProps} key={route} \u002F\u003E\n        \u003C\u002F\u003E\n      )\n}\n```\nAbove, we access the Router object available inside **next\u002Frouter** to ensure. `onRouteChangeStart` i.e when a Route change is in progress, NProgress will run i.e `NProgress.start`. Once the route change is done i.e `onRouteChangeComplete`, we call the done method on `NProgress`. We call the same method if there's an error.\nI had issues using the NProgress stylesheet from the `nprogress` package within my application and resorted to using the stylesheet they provide via their CDN. Without the stylesheet, you won't notice anything on the screen.\nNow, when you navigate to any page within your application, you should see a blue loading bar at the top of your screen",user:{name:"Adebola",username:"debosthefirst",twitter_username:"DebosTheFirst",github_username:"onedebos",website_url:"https:\u002F\u002Fadebola.dev",profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--ffWaM3tz--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F321050\u002F7a5fcc3e-3388-454b-8e00-eb53517b9c74.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--yWMS2CXS--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F321050\u002F7a5fcc3e-3388-454b-8e00-eb53517b9c74.jpeg"}}},serverRendered:true,routePath:"\u002Farticles\u002Fdebosthefirst\u002F500948",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"2020-10-29T10:38:45Z","https:\u002F\u002Fdev.to\u002Fdebosthefirst\u002Fhow-to-show-a-loading-bar-when-changing-routes-in-nextjs-304e",15));