window.__NUXT__=(function(a,b,c,d,e,f,g){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634322943",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:808903,title:"Appwrite, Android and Realtime",description:"ü§î What is Appwrite?   Appwrite is a new open-source, end-to-end, backend server for web and...",readable_publish_date:"Sep 6",slug:"appwrite-android-and-realtime-42jd",path:"\u002Fappwrite\u002Fappwrite-android-and-realtime-42jd",url:b,comments_count:2,public_reactions_count:c,collection_id:a,published_timestamp:d,positive_reactions_count:c,cover_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--qA3rzlC---\u002Fc_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002F0h2dtpm35ktbwh1ux2nl.jpg",social_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--AmxPBT1---\u002Fc_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002F0h2dtpm35ktbwh1ux2nl.jpg",canonical_url:b,created_at:"2021-08-31T10:59:49Z",edited_at:a,crossposted_at:a,published_at:d,last_comment_at:"2021-09-16T15:56:02Z",reading_time_minutes:8,tag_list:"android, opensource, news, tutorial",tags:["android","opensource",e,"tutorial"],body_html:"\u003Ch2\u003E\n  \u003Ca name=\"what-is-appwrite\" href=\"#what-is-appwrite\"\u003E\n  \u003C\u002Fa\u003E\n  ü§î What is Appwrite?\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EAppwrite is a new open-source, end-to-end, backend server for web and mobile developers that allows you to build apps much faster. It abstracts and simplifies common development tasks behind REST APIs and tools, helping you build advanced apps faster.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--urjHK2-R--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fyxb9c2wc0o8k4y0vbfzn.gif\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--urjHK2-R--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fyxb9c2wc0o8k4y0vbfzn.gif\" alt=\"Social Media posts (7)\" loading=\"lazy\" data-animated=\"true\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"appwrite-for-android\" href=\"#appwrite-for-android\"\u003E\n  \u003C\u002Fa\u003E\n  ü§ñ Appwrite for Android\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EAppwrite provides \u003Cstrong\u003Esleek REST APIs\u003C\u002Fstrong\u003E for various common features that are required for web and mobile application development such as \u003Cstrong\u003Ecloud functions\u003C\u002Fstrong\u003E, \u003Cstrong\u003Edatabase\u003C\u002Fstrong\u003E, \u003Cstrong\u003Estorage\u003C\u002Fstrong\u003E, as well as \u003Cstrong\u003Erealtime\u003C\u002Fstrong\u003E support for each service so that we as developers can focus on our applications rather than on backend implementations. This makes Appwrite very suitable for those of us who want to build Android applications. In this tutorial we'll build an Android realtime product application using Appwrite and the new \u003Cstrong\u003Erealtime\u003C\u002Fstrong\u003E API, let's get started.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"prerequisites\" href=\"#prerequisites\"\u003E\n  \u003C\u002Fa\u003E\n  üìù Prerequisites\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EIn order to continue with this tutorial, you need to have access to an Appwrite console, and either an existing project, or permission to create one. If you have not already installed Appwrite, please do so. Installing Appwrite is really simple following Appwrite's official \u003Ca href=\"https:\u002F\u002Fappwrite.io\u002Fdocs\u002Finstallation\"\u003Einstallation docs\u003C\u002Fa\u003E. Installation should only take around 2 minutes. Once installed, login to your console and \u003Cstrong\u003Ecreate a new Project\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"database-setup\" href=\"#database-setup\"\u003E\n  \u003C\u002Fa\u003E\n  üíæ Database Setup\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EIn the Appwrite console, let's select the project that we will be using for our Android app. If you don't have a project yet, you can easily create one by clicking on the \u003Cstrong\u003ECreate Project\u003C\u002Fstrong\u003E button. Once inside, select \u003Cstrong\u003EDatabase\u003C\u002Fstrong\u003E from the left sidebar. On the database page:\u003C\u002Fp\u003E\n\n\u003Col\u003E\n\u003Cli\u003EClick on the \u003Cstrong\u003EAdd Collection\u003C\u002Fstrong\u003E button\u003C\u002Fli\u003E\n\u003Cli\u003EInside the dialog:\n\n\u003Col\u003E\n\u003Cli\u003ESet the collection name to \u003Cstrong\u003EProducts\u003C\u002Fstrong\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EClick the \u003Cstrong\u003ECreate\u003C\u002Fstrong\u003E button\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\n\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\n\u003Cp\u003EThis will then create a collection, and you will be redirected to the new collection's page where we can define its rules. Define the following rules, then click the \u003Cstrong\u003EUpdate\u003C\u002Fstrong\u003E button.\u003C\u002Fp\u003E\n\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EName\u003C\u002Fstrong\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Elabel: Name\u003C\u002Fli\u003E\n\u003Cli\u003EKey: name\u003C\u002Fli\u003E\n\u003Cli\u003ERule Type: Text\u003C\u002Fli\u003E\n\u003Cli\u003ERequired: true\u003C\u002Fli\u003E\n\u003Cli\u003EArray: false\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EDescription\u003C\u002Fstrong\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Elabel: Description\u003C\u002Fli\u003E\n\u003Cli\u003EKey: description\u003C\u002Fli\u003E\n\u003Cli\u003ERule Type: Text\u003C\u002Fli\u003E\n\u003Cli\u003ERequired: true\u003C\u002Fli\u003E\n\u003Cli\u003EArray: false\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ESKU\u003C\u002Fstrong\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Elabel: SKU\u003C\u002Fli\u003E\n\u003Cli\u003EKey: sku\u003C\u002Fli\u003E\n\u003Cli\u003ERule Type: Text\u003C\u002Fli\u003E\n\u003Cli\u003ERequired: true\u003C\u002Fli\u003E\n\u003Cli\u003EArray: false\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EPrice\u003C\u002Fstrong\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Elabel: Price\u003C\u002Fli\u003E\n\u003Cli\u003EKey: price\u003C\u002Fli\u003E\n\u003Cli\u003ERule Type: Numeric\u003C\u002Fli\u003E\n\u003Cli\u003ERequired: true\u003C\u002Fli\u003E\n\u003Cli\u003EArray: false\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EImage URL\u003C\u002Fstrong\u003E\n\n\u003Cul\u003E\n\u003Cli\u003Elabel: Image URL\u003C\u002Fli\u003E\n\u003Cli\u003EKey: imageUrl\u003C\u002Fli\u003E\n\u003Cli\u003ERule Type: Text\u003C\u002Fli\u003E\n\u003Cli\u003ERequired: true\u003C\u002Fli\u003E\n\u003Cli\u003EArray: false\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--UiNuMbn8--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fguf4hngrqboiabzkba2g.png\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--UiNuMbn8--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fguf4hngrqboiabzkba2g.png\" alt=\"Products Collection\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003ENow that the collection is created, we can move on to setting up the Android application.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"setup-android-project-and-dependencies\" href=\"#setup-android-project-and-dependencies\"\u003E\n  \u003C\u002Fa\u003E\n  ‚öôÔ∏è Setup Android Project and Dependencies\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EUsing Android Studio, create a new Android Application project choosing the \u003Cstrong\u003EEmpty Activity\u003C\u002Fstrong\u003E template. Once the project is created, add the following dependencies to your app's \u003Ccode\u003Ebuild.gradle(.kts)\u003C\u002Fcode\u003E file:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight groovy\"\u003E\u003Ccode\u003E    \u003Cspan class=\"c1\"\u003E\u002F\u002F Appwrite\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"io.appwrite:sdk-for-android:0.2.0\"\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F Appcompat, LiveData, ViewModel and Activity extensions\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'androidx.appcompat:appcompat:1.3.0'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'androidx.activity:activity-ktx:1.3.1'\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F JSON\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'com.google.code.gson:gson:2.8.7'\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F Image loading\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimplementation\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'com.github.bumptech.glide:glide:4.12.0'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ekapt\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'com.github.bumptech.glide:compiler:4.12.0'\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch2\u003E\n  \u003Ca name=\"%EF%B8%8F-add-android-platform\" href=\"#%EF%B8%8F-add-android-platform\"\u003E\n  \u003C\u002Fa\u003E\n  ‚ûïÔ∏è Add Android Platform\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003ETo initialize the Appwrite SDK and start interacting with Appwrite services, you first need to add a new Android platform to your project. To add a new platform, go to your Appwrite console, select your project (or create one if you haven't already), and click the \u003Cstrong\u003EAdd Platform\u003C\u002Fstrong\u003E button on the project Dashboard.\u003C\u002Fp\u003E\n\n\u003Cp\u003EFrom the options, choose to add a new Android platform and add your app credentials.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAdd your app name and package name. Your package name is generally the \u003Ccode\u003EapplicationId\u003C\u002Fcode\u003E in your app-level \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter\u002Fblob\u002Fmain\u002Fapp\u002Fbuild.gradle\"\u003E\u003Ccode\u003Ebuild.gradle\u003C\u002Fcode\u003E\u003C\u002Fa\u003E file. You may also find your package name in your \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter\u002Fblob\u002Fmain\u002Fapp\u002Fsrc\u002Fmain\u002FAndroidManifest.xml\"\u003E\u003Ccode\u003EAndroidManifest.xml\u003C\u002Fcode\u003E\u003C\u002Fa\u003E file. By registering a new platform, you are allowing your app to communicate with the Appwrite API.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"create-the-product-model\" href=\"#create-the-product-model\"\u003E\n  \u003C\u002Fa\u003E\n  üß± Create the Product Model\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EWe now need to create a model to represent a product on the Android side. Create a new Kotlin file \u003Ccode\u003EProduct.kt\u003C\u002Fcode\u003E and declare a simple data class:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight kotlin\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Edata class\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Esku\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eprice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EDouble\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EimageUrl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch2\u003E\n  \u003Ca name=\"building-views\" href=\"#building-views\"\u003E\n  \u003C\u002Fa\u003E\n  ‚öíÔ∏è Building Views\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003ENow, open your \u003Ccode\u003Eapp\u002Fsrc\u002Fmain\u002Fres\u002Flayout\u002Factivity_main.xml\u003C\u002Fcode\u003E and update the layout as following:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight xml\"\u003E\u003Ccode\u003E\u003Cspan class=\"cp\"\u003E&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;androidx.constraintlayout.widget.ConstraintLayout\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Exmlns:android=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres\u002Fandroid\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Exmlns:app=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres-auto\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Exmlns:tools=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"http:\u002F\u002Fschemas.android.com\u002Ftools\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etools:context=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\".MainActivity\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;androidx.recyclerview.widget.RecyclerView\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:id=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@+id\u002FrecyclerProducts\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"0dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layoutManager=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"androidx.recyclerview.widget.GridLayoutManager\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toTopOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@id\u002FbtnSubscribe\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintEnd_toEndOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintStart_toStartOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintTop_toTopOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:spanCount=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"3\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;Button\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:id=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@+id\u002FbtnSubscribe\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"wrap_content\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_margin=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"16dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:text=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Subscribe to products\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintLeft_toLeftOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintRight_toRightOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintTop_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@id\u002FrecyclerProducts\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u002Fandroidx.constraintlayout.widget.ConstraintLayout&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EYou'll notice that the activity is quite simple; we only have a \u003Ccode\u003EButton\u003C\u002Fcode\u003E to subscribe and a \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E. The \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E will be used to display the product collection in realtime as we add new products. We'll now need to define a separate view that will be used to represent each of the individual products.\u003C\u002Fp\u003E\n\n\u003Cp\u003ECreate a new layout from \u003Ccode\u003EFile &gt; New &gt; Layout Resource File\u003C\u002Fcode\u003E, name it \u003Ccode\u003Eitem_product.xml\u003C\u002Fcode\u003E and add the following:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight xml\"\u003E\u003Ccode\u003E\u003Cspan class=\"cp\"\u003E&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"nt\"\u003E&lt;androidx.constraintlayout.widget.ConstraintLayout\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Exmlns:android=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres\u002Fandroid\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Exmlns:app=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres-auto\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"120dp\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Eandroid:layout_margin=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"2dp\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;ImageView\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:id=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@+id\u002FimgProduct\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"120dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintEnd_toEndOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintStart_toStartOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintTop_toTopOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;View\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"match_parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"34dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:alpha=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"0.6\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:background=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@color\u002Fblack\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintEnd_toEndOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintStart_toStartOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;TextView\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:id=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@+id\u002FtxtName\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"wrap_content\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"wrap_content\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_margin=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"8dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:textColor=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@color\u002Fwhite\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintStart_toStartOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nt\"\u003E&lt;TextView\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:id=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@+id\u002FtxtPrice\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_width=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"wrap_content\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_height=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"wrap_content\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:layout_margin=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"8dp\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eandroid:textColor=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"@color\u002Fwhite\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintBottom_toBottomOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Eapp:layout_constraintEnd_toEndOf=\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"parent\"\u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003E\u002F&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nt\"\u003E&lt;\u002Fandroidx.constraintlayout.widget.ConstraintLayout&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EAll the pieces of our \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E are in place, and we can move on to setting up the \u003Ccode\u003EViewModel\u003C\u002Fcode\u003E, where most of the heavy lifting happens.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"create-view-model\" href=\"#create-view-model\"\u003E\n  \u003C\u002Fa\u003E\n  üë©‚Äçüîß Create View Model\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003ECreate \u003Ccode\u003Eapp\u002Fsrc\u002Fmain\u002Fjava\u002Fcom\u002Fexample\u002Frealtimestarter\u002FRealtimeViewModel.kt\u003C\u002Fcode\u003E and update it with following code. Make sure to replace all the property values near the top of the file with your own values which can be found in your Appwrite console.\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight kotlin\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Epackage\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.realtimestarter\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.content.Context\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.util.Log\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.lifecycle.*\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.Client\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.extensions.toJson\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.models.RealtimeResponseEvent\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.models.RealtimeSubscription\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.services.Account\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.services.Database\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.services.Realtime\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Ekotlinx.coroutines.launch\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERealtimeViewModel\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EViewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ELifecycleObserver\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eendpoint\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"YOUR_ENDPOINT\"\u003C\u002Fspan\u003E          \u003Cspan class=\"c1\"\u003E\u002F\u002F Replace with your endpoint\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EprojectId\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"YOUR_PROJECT_ID\"\u003C\u002Fspan\u003E       \u003Cspan class=\"c1\"\u003E\u002F\u002F Replace with your project ID\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EcollectionId\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"YOUR_COLLECTION_ID\"\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F Replace with your product collection ID\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Erealtime\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eby\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Elazy\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERealtime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eclient\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eaccount\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eby\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Elazy\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EAccount\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eclient\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Edb\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eby\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Elazy\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EDatabase\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eclient\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003E_productStream\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EMutableLiveData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EproductStream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ELiveData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003E_productStream\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003E_productDeleted\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EMutableLiveData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EproductDeleted\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ELiveData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003E_productDeleted\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eclient\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EClient\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enull\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Esubscription\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERealtimeSubscription\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enull\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eset\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsubscribeToProducts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nf\"\u003EbuildClient\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"n\"\u003EviewModelScope\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Elaunch\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"c1\"\u003E\u002F\u002F Create a session so that we are authorized for realtime\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nf\"\u003EcreateSession\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n            \u003Cspan class=\"c1\"\u003E\u002F\u002F Attach an error logger to our realtime instance\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Erealtime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EdoOnError\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ELog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ejava\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n            \u003Cspan class=\"c1\"\u003E\u002F\u002F Subscribe to document events for our collection and attach the handle product callback\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Esubscription\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Erealtime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Esubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n                \u003Cspan class=\"s\"\u003E\"collections.${collectionId}.documents\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n                \u003Cspan class=\"n\"\u003EpayloadType\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ejava\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n                \u003Cspan class=\"n\"\u003Ecallback\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EhandleProductMessage\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n            \u003Cspan class=\"c1\"\u003E\u002F\u002FcreateDummyProducts()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EhandleProductMessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERealtimeResponseEvent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ewhen\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eevent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"k\"\u003Ein\u003C\u002Fspan\u003E\n            \u003Cspan class=\"s\"\u003E\"database.documents.create\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n            \u003Cspan class=\"s\"\u003E\"database.documents.update\"\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"n\"\u003E_productStream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EpostValue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Epayload\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n            \u003Cspan class=\"s\"\u003E\"database.documents.delete\"\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"n\"\u003E_productDeleted\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EpostValue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Epayload\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!!\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Esuspend\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EcreateDummyProducts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F For testing; insert 100 products while subscribed\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eurl\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"https:\u002F\u002Fdummyimage.com\u002F600x400\u002Fcde\u002Ffff\"\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Euntil\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E100\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Edb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EcreateDocument\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n                \u003Cspan class=\"n\"\u003EcollectionId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"iPhone $i\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"sku-$i\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoDouble\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eurl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E).\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoJson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(),\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nf\"\u003ElistOf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"*\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nf\"\u003ElistOf\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"*\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EbuildClient\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EContext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eclient\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eclient\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EClient\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n                \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetEndpoint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eendpoint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n                \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetProject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EprojectId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Esuspend\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EcreateSession\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Etry\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eaccount\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EcreateAnonymousSession\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ecatch\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EException\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EprintStackTrace\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nd\"\u003E@OnLifecycleEvent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ELifecycle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EEvent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EON_STOP\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EcloseSocket\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F Activity is being destroyed; close our socket connection if it's open\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Esubscription\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E?.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eclose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003EThe \u003Ccode\u003EViewModel\u003C\u002Fcode\u003E contains a function to call the realtime API and subscribe to notifications for create\u002Fupdate\u002Fdelete events relating to any documents within the collection with id \u003Ccode\u003EcollectionId\u003C\u002Fcode\u003E, that is also visible to our user.\u003C\u002Fp\u003E\n\n\u003Cp\u003ETo allow observing the incoming realtime updates from outside itself, the \u003Ccode\u003EViewModel\u003C\u002Fcode\u003E also exposes the \u003Ccode\u003ELiveData\u003C\u002Fcode\u003E property \u003Ccode\u003EproductStream\u003C\u002Fcode\u003E, which we'll utilize in our \u003Ccode\u003EActivity\u003C\u002Fcode\u003E later on to get realtime updates in our \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"recycler-view\" href=\"#recycler-view\"\u003E\n  \u003C\u002Fa\u003E\n  ‚ôªÔ∏è Recycler View\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThere's 2 more files we need to add to get our \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E working:\u003C\u002Fp\u003E\n\n\u003Col\u003E\n\u003Cli\u003EThe \u003Ccode\u003EProductAdapter\u003C\u002Fcode\u003E, which will handle creating and binding a view for each \u003Ccode\u003EProduct\u003C\u002Fcode\u003E as they're added to the database. The \u003Ccode\u003EDiffUtil.ItemCallback\u003C\u002Fcode\u003E provided in the constructor will be used to calculate list update diffs on a background thread, then post any changes on the UI thread, perfect for realtime! You can find more information on \u003Ccode\u003EDiffUtil\u003C\u002Fcode\u003E \u003Ca href=\"https:\u002F\u002Fdeveloper.android.com\u002Freference\u002Fandroidx\u002Frecyclerview\u002Fwidget\u002FDiffUtil\"\u003Ehere\u003C\u002Fa\u003E.\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight kotlin\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Epackage\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.realtimestarter\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.view.LayoutInflater\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.view.ViewGroup\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.recyclerview.widget.DiffUtil\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.recyclerview.widget.ListAdapter\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductAdapter\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nc\"\u003EListAdapter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eobject\u003C\u002Fspan\u003E \u003Cspan class=\"err\"\u003E: \u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EDiffUtil\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EItemCallback\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EareItemsTheSame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EoldItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EnewItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003EoldItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esku\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EnewItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esku\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EareContentsTheSame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EoldItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EnewItem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003EoldItem\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EnewItem\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EonCreateViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eparent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EViewGroup\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EviewType\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EInt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductViewHolder\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eview\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ELayoutInflater\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eparent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einflate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Elayout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eitem_product\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eparent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eview\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EonBindViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eholder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eposition\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EInt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eitem\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EcurrentList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eposition\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"n\"\u003Eholder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eitem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Eholder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetPrice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eitem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Eholder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetProductImage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eitem\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EimageUrl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsubmitNext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Ecurrent\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EcurrentList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoMutableList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eindex\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EcurrentList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EindexOfFirst\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esku\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esku\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eindex\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecurrent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eindex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecurrent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nf\"\u003EsubmitList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecurrent\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsubmitDeleted\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nf\"\u003EsubmitList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003EcurrentList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EtoMutableList\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E().\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eapply\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"nf\"\u003Eremove\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eproduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Col\u003E\n\u003Cli\u003EThe \u003Ccode\u003EProductViewHolder\u003C\u002Fcode\u003E which describes a single \u003Ccode\u003EProduct\u003C\u002Fcode\u003E view and metadata about it's position in the \u003Ccode\u003ERecyclerView\u003C\u002Fcode\u003E:\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight kotlin\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Epackage\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.realtimestarter\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.view.View\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.widget.ImageView\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.widget.TextView\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.recyclerview.widget.RecyclerView\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Ecom.bumptech.glide.Glide\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERecyclerView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EViewHolder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EnameView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ETextView\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EfindViewById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EtxtName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EpriceView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ETextView\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EfindViewById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EtxtPrice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EimageView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EImageView\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EfindViewById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EimgProduct\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsetName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EnameView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etext\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsetPrice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EpriceView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etext\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"\\$$price\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsetProductImage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eurl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nc\"\u003EGlide\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Ewith\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EitemView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eurl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EcenterCrop\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einto\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EimageView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch2\u003E\n  \u003Ca name=\"activity\" href=\"#activity\"\u003E\n  \u003C\u002Fa\u003E\n  üíÜ Activity\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EWith everything else in place, lets tie it all together in our \u003Ccode\u003EMainActivity\u003C\u002Fcode\u003E. Open \u003Ccode\u003Eapp\u002Fsrc\u002Fmain\u002Fjava\u002Fcom\u002Fexample\u002Frealtimestarter\u002FMainActivity.kt\u003C\u002Fcode\u003E and update like so:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight kotlin\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Epackage\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eio.appwrite.realtimestarter\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.os.Bundle\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroid.widget.Button\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.activity.viewModels\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.appcompat.app.AppCompatActivity\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eandroidx.recyclerview.widget.RecyclerView\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ERealtimeActivity\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EAppCompatActivity\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003EviewModel\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eby\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EviewModels\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ERealtimeViewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;()\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EonCreate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EsavedInstanceState\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EBundle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E?)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Esuper\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EonCreate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EsavedInstanceState\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nf\"\u003EsetContentView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Elayout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eactivity_realtime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Ebutton\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EfindViewById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003EButton\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EbtnSubscribe\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ebutton\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsetOnClickListener\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003EviewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsubscribeToProducts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Eadapter\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003EProductAdapter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Eval\u003C\u002Fspan\u003E \u003Cspan class=\"py\"\u003Erecycler\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EfindViewById\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ERecyclerView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E&gt;(\u003C\u002Fspan\u003E\u003Cspan class=\"nc\"\u003ER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ErecyclerProducts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Erecycler\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eadapter\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eadapter\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"n\"\u003EviewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EproductStream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eobserve\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eadapter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsubmitNext\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EviewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EproductDeleted\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eobserve\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eadapter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EsubmitDeleted\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"n\"\u003Elifecycle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EaddObserver\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EviewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EonStop\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Esuper\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EonStop\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Elifecycle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EremoveObserver\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EviewModel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Ch2\u003E\n  \u003Ca name=\"lets-get-realtime\" href=\"#lets-get-realtime\"\u003E\n  \u003C\u002Fa\u003E\n  üèéÔ∏è Let's Get Realtime\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EThat's it, all that's left is to run the application, then add some documents. When running on your emulator or device, click \u003Cstrong\u003ESubscribe\u003C\u002Fstrong\u003E to start listening for realtime updates.\u003C\u002Fp\u003E\n\n\u003Cp\u003EHead back to your Appwrite console and navigate to the \u003Ccode\u003EProducts\u003C\u002Fcode\u003E collection we created earlier. From here, we can start adding new documents and see them appear in our app.\u003C\u002Fp\u003E\n\n\u003Cp\u003EAs soon you add a product in the console, you'll see them appear in the UI of your app! That's the real beauty of Appwrite Realtime, as shown below.\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--tX7FdcC7--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fs9.gifyu.com\u002Fimages\u002Fproducts-realtime90a165133e674618.gif\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--tX7FdcC7--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880\u002Fhttps:\u002F\u002Fs9.gifyu.com\u002Fimages\u002Fproducts-realtime90a165133e674618.gif\" alt=\"Products GIF\" loading=\"lazy\" data-animated=\"true\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"conclusion\" href=\"#conclusion\"\u003E\n  \u003C\u002Fa\u003E\n  ü•Ç Conclusion\n\u003C\u002Fh2\u003E\n\n\u003Cp\u003EI hope you enjoyed building this Realtime Application with Appwrite and Android. The full source for this application is available in the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter\"\u003EDemo Realtime Application\u003C\u002Fa\u003E repository. Let us know if you have any feedback or suggestions. Looking forward to seeing what the community can create with Appwrite Realtime and Android!\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n  \u003Ca name=\"learn-more\" href=\"#learn-more\"\u003E\n  \u003C\u002Fa\u003E\n  üéì Learn More\n\u003C\u002Fh2\u003E\n\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fappwrite.io\u002Fgetting-started-with-android\"\u003EGetting Started With Android\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fappwrite\u002Fplayground-for-android\"\u003EAndroid Playground\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fappwrite.io\u002Fdocs\"\u003EAppwrite Docs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n",body_markdown:"## ü§î What is Appwrite?\n\nAppwrite is a new open-source, end-to-end, backend server for web and mobile developers that allows you to build apps much faster. It abstracts and simplifies common development tasks behind REST APIs and tools, helping you build advanced apps faster.\n\n![Social Media posts (7)](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fyxb9c2wc0o8k4y0vbfzn.gif)\n \n\n## ü§ñ Appwrite for Android\n\nAppwrite provides **sleek REST APIs** for various common features that are required for web and mobile application development such as **cloud functions**, **database**, **storage**, as well as **realtime** support for each service so that we as developers can focus on our applications rather than on backend implementations. This makes Appwrite very suitable for those of us who want to build Android applications. In this tutorial we'll build an Android realtime product application using Appwrite and the new **realtime** API, let's get started.\n\n## üìù Prerequisites\n\nIn order to continue with this tutorial, you need to have access to an Appwrite console, and either an existing project, or permission to create one. If you have not already installed Appwrite, please do so. Installing Appwrite is really simple following Appwrite's official [installation docs](https:\u002F\u002Fappwrite.io\u002Fdocs\u002Finstallation). Installation should only take around 2 minutes. Once installed, login to your console and **create a new Project**.\n\n## üíæ Database Setup\n\nIn the Appwrite console, let's select the project that we will be using for our Android app. If you don't have a project yet, you can easily create one by clicking on the **Create Project** button. Once inside, select **Database** from the left sidebar. On the database page:\n\n1. Click on the **Add Collection** button\n2. Inside the dialog:\n    1. Set the collection name to **Products**\n    2. Click the **Create** button\n\nThis will then create a collection, and you will be redirected to the new collection's page where we can define its rules. Define the following rules, then click the **Update** button.\n\n- **Name**\n    - label: Name\n    - Key: name\n    - Rule Type: Text\n    - Required: true\n    - Array: false\n- **Description**\n    - label: Description\n    - Key: description\n    - Rule Type: Text\n    - Required: true\n    - Array: false\n- **SKU**\n    - label: SKU\n    - Key: sku\n    - Rule Type: Text\n    - Required: true\n    - Array: false\n- **Price**\n    - label: Price\n    - Key: price\n    - Rule Type: Numeric\n    - Required: true\n    - Array: false\n- **Image URL**\n    - label: Image URL\n    - Key: imageUrl\n    - Rule Type: Text\n    - Required: true\n    - Array: false\n\n![Products Collection](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fguf4hngrqboiabzkba2g.png)\n\nNow that the collection is created, we can move on to setting up the Android application.\n\n## ‚öôÔ∏è Setup Android Project and Dependencies\n\nUsing Android Studio, create a new Android Application project choosing the **Empty Activity** template. Once the project is created, add the following dependencies to your app's `build.gradle(.kts)` file:\n\n```groovy\n    \u002F\u002F Appwrite\n    implementation(\"io.appwrite:sdk-for-android:0.2.0\")\n    \n    \u002F\u002F Appcompat, LiveData, ViewModel and Activity extensions\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'\n    implementation 'androidx.activity:activity-ktx:1.3.1'\n    \n    \u002F\u002F JSON\n    implementation 'com.google.code.gson:gson:2.8.7'\n    \n    \u002F\u002F Image loading\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    kapt 'com.github.bumptech.glide:compiler:4.12.0'\n```\n\n## ‚ûïÔ∏è Add Android Platform\n\nTo initialize the Appwrite SDK and start interacting with Appwrite services, you first need to add a new Android platform to your project. To add a new platform, go to your Appwrite console, select your project (or create one if you haven't already), and click the **Add Platform** button on the project Dashboard.\n\nFrom the options, choose to add a new Android platform and add your app credentials.\n\nAdd your app name and package name. Your package name is generally the `applicationId` in your app-level [`build.gradle`](https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter\u002Fblob\u002Fmain\u002Fapp\u002Fbuild.gradle) file. You may also find your package name in your [`AndroidManifest.xml`](https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter\u002Fblob\u002Fmain\u002Fapp\u002Fsrc\u002Fmain\u002FAndroidManifest.xml) file. By registering a new platform, you are allowing your app to communicate with the Appwrite API.\n\n## üß± Create the Product Model\n\nWe now need to create a model to represent a product on the Android side. Create a new Kotlin file `Product.kt` and declare a simple data class:\n\n```kotlin\ndata class Product(\n    val name: String,\n    val sku: String,\n    val price: Double,\n    val imageUrl: String\n)\n```\n\n## ‚öíÔ∏è Building Views\n\nNow, open your `app\u002Fsrc\u002Fmain\u002Fres\u002Flayout\u002Factivity_main.xml` and update the layout as following:\n\n```xml\n\u003C?xml version=\"1.0\" encoding=\"utf-8\"?\u003E\n\u003Candroidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres\u002Fandroid\"\n        xmlns:app=\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres-auto\"\n        xmlns:tools=\"http:\u002F\u002Fschemas.android.com\u002Ftools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"\u003E\n\n    \u003Candroidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id\u002FrecyclerProducts\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            app:layoutManager=\"androidx.recyclerview.widget.GridLayoutManager\"\n            app:layout_constraintBottom_toTopOf=\"@id\u002FbtnSubscribe\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:spanCount=\"3\"\u002F\u003E\n\n    \u003CButton\n            android:id=\"@+id\u002FbtnSubscribe\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"16dp\"\n            android:text=\"Subscribe to products\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id\u002FrecyclerProducts\"\u002F\u003E\n\n\u003C\u002Fandroidx.constraintlayout.widget.ConstraintLayout\u003E\n```\n\nYou'll notice that the activity is quite simple; we only have a `Button` to subscribe and a `RecyclerView`. The `RecyclerView` will be used to display the product collection in realtime as we add new products. We'll now need to define a separate view that will be used to represent each of the individual products.\n\nCreate a new layout from `File \u003E New \u003E Layout Resource File`, name it `item_product.xml` and add the following:\n\n```xml\n\u003C?xml version=\"1.0\" encoding=\"utf-8\"?\u003E\n\u003Candroidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres\u002Fandroid\"\n        xmlns:app=\"http:\u002F\u002Fschemas.android.com\u002Fapk\u002Fres-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"120dp\"\n        android:layout_margin=\"2dp\"\u003E\n\n    \u003CImageView\n            android:id=\"@+id\u002FimgProduct\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"120dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\u002F\u003E\n\n    \u003CView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"34dp\"\n            android:alpha=\"0.6\"\n            android:background=\"@color\u002Fblack\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\u002F\u003E\n\n    \u003CTextView\n            android:id=\"@+id\u002FtxtName\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"8dp\"\n            android:textColor=\"@color\u002Fwhite\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\u002F\u003E\n\n    \u003CTextView\n            android:id=\"@+id\u002FtxtPrice\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"8dp\"\n            android:textColor=\"@color\u002Fwhite\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\u002F\u003E\n\n\u003C\u002Fandroidx.constraintlayout.widget.ConstraintLayout\u003E\n```\n\nAll the pieces of our `RecyclerView` are in place, and we can move on to setting up the `ViewModel`, where most of the heavy lifting happens.\n\n## üë©‚Äçüîß Create View Model\n\nCreate `app\u002Fsrc\u002Fmain\u002Fjava\u002Fcom\u002Fexample\u002Frealtimestarter\u002FRealtimeViewModel.kt` and update it with following code. Make sure to replace all the property values near the top of the file with your own values which can be found in your Appwrite console.\n\n```kotlin\npackage io.appwrite.realtimestarter\n\nimport android.content.Context\nimport android.util.Log\nimport androidx.lifecycle.*\nimport io.appwrite.Client\nimport io.appwrite.extensions.toJson\nimport io.appwrite.models.RealtimeResponseEvent\nimport io.appwrite.models.RealtimeSubscription\nimport io.appwrite.services.Account\nimport io.appwrite.services.Database\nimport io.appwrite.services.Realtime\nimport kotlinx.coroutines.launch\n\nclass RealtimeViewModel : ViewModel(), LifecycleObserver {\n\n    private val endpoint = \"YOUR_ENDPOINT\"          \u002F\u002F Replace with your endpoint\n    private val projectId = \"YOUR_PROJECT_ID\"       \u002F\u002F Replace with your project ID\n    private val collectionId = \"YOUR_COLLECTION_ID\" \u002F\u002F Replace with your product collection ID\n\n    private val realtime by lazy { Realtime(client!!) }\n\n    private val account by lazy { Account(client!!) }\n\n    private val db by lazy { Database(client!!) }\n\n    private val _productStream = MutableLiveData\u003CProduct\u003E()\n    val productStream: LiveData\u003CProduct\u003E = _productStream\n\n    private val _productDeleted = MutableLiveData\u003CProduct\u003E()\n    val productDeleted: LiveData\u003CProduct\u003E = _productDeleted\n\n    private var client: Client? = null\n\n    var subscription: RealtimeSubscription? = null\n        private set\n\n    fun subscribeToProducts(context: Context) {\n        buildClient(context)\n\n        viewModelScope.launch {\n            \u002F\u002F Create a session so that we are authorized for realtime\n            createSession()\n\n            \u002F\u002F Attach an error logger to our realtime instance\n            realtime.doOnError { Log.e(this::class.java.name, it.message.toString()) }\n\n            \u002F\u002F Subscribe to document events for our collection and attach the handle product callback\n            subscription = realtime.subscribe(\n                \"collections.${collectionId}.documents\",\n                payloadType = Product::class.java,\n                callback = ::handleProductMessage\n            )\n\n            \u002F\u002FcreateDummyProducts()\n        }\n    }\n\n    private fun handleProductMessage(message: RealtimeResponseEvent\u003CProduct\u003E) {\n        when (message.event) {\n            in\n            \"database.documents.create\",\n            \"database.documents.update\" -\u003E {\n                _productStream.postValue(message.payload!!)\n            }\n            \"database.documents.delete\" -\u003E {\n                _productDeleted.postValue(message.payload!!)\n            }\n        }\n    }\n\n    private suspend fun createDummyProducts() {\n        \u002F\u002F For testing; insert 100 products while subscribed\n        val url = \"https:\u002F\u002Fdummyimage.com\u002F600x400\u002Fcde\u002Ffff\"\n        for (i in 1 until 100) {\n            db.createDocument(\n                collectionId,\n                Product(\"iPhone $i\", \"sku-$i\", i.toDouble(), url).toJson(),\n                listOf(\"*\"),\n                listOf(\"*\")\n            )\n        }\n    }\n\n    private fun buildClient(context: Context) {\n        if (client == null) {\n            client = Client(context)\n                .setEndpoint(endpoint)\n                .setProject(projectId)\n        }\n    }\n\n    private suspend fun createSession() {\n        try {\n            account.createAnonymousSession()\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)\n    fun closeSocket() {\n        \u002F\u002F Activity is being destroyed; close our socket connection if it's open\n        subscription?.close()\n    }\n}\n```\n\nThe `ViewModel` contains a function to call the realtime API and subscribe to notifications for create\u002Fupdate\u002Fdelete events relating to any documents within the collection with id `collectionId`, that is also visible to our user.\n\nTo allow observing the incoming realtime updates from outside itself, the `ViewModel` also exposes the `LiveData` property `productStream`, which we'll utilize in our `Activity` later on to get realtime updates in our `RecyclerView`.\n\n## ‚ôªÔ∏è Recycler View\n\nThere's 2 more files we need to add to get our `RecyclerView` working:\n\n1. The `ProductAdapter`, which will handle creating and binding a view for each `Product` as they're added to the database. The `DiffUtil.ItemCallback` provided in the constructor will be used to calculate list update diffs on a background thread, then post any changes on the UI thread, perfect for realtime! You can find more information on `DiffUtil` [here](https:\u002F\u002Fdeveloper.android.com\u002Freference\u002Fandroidx\u002Frecyclerview\u002Fwidget\u002FDiffUtil).\n\n```kotlin\npackage io.appwrite.realtimestarter\n\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.ListAdapter\n\nclass ProductAdapter :\n    ListAdapter\u003CProduct, ProductViewHolder\u003E(object : DiffUtil.ItemCallback\u003CProduct\u003E() {\n        override fun areItemsTheSame(oldItem: Product, newItem: Product) =\n            oldItem.sku == newItem.sku\n\n        override fun areContentsTheSame(oldItem: Product, newItem: Product) =\n            oldItem == newItem\n    }) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ProductViewHolder {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.item_product, parent, false)\n\n        return ProductViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: ProductViewHolder, position: Int) {\n        val item = currentList[position]\n\n        holder.setName(item.name)\n        holder.setPrice(item.price.toString())\n        holder.setProductImage(item.imageUrl)\n    }\n\n    fun submitNext(product: Product) {\n        val current = currentList.toMutableList()\n        val index = currentList.indexOfFirst {\n            it.sku == product.sku\n        }\n        if (index != -1) {\n            current[index] = product\n        } else {\n            current.add(product)\n        }\n        submitList(current)\n    }\n\n    fun submitDeleted(product: Product) {\n        submitList(\n            currentList.toMutableList().apply {\n                remove(product)\n            }\n        )\n    }\n}\n```\n\n2. The `ProductViewHolder` which describes a single `Product` view and metadata about it's position in the `RecyclerView`:\n\n```kotlin\npackage io.appwrite.realtimestarter\n\nimport android.view.View\nimport android.widget.ImageView\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.bumptech.glide.Glide\n\nclass ProductViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    private var nameView: TextView = itemView.findViewById(R.id.txtName)\n    private var priceView: TextView = itemView.findViewById(R.id.txtPrice)\n    private var imageView: ImageView = itemView.findViewById(R.id.imgProduct)\n\n    fun setName(name: String) {\n        nameView.text = name\n    }\n\n    fun setPrice(price: String) {\n        priceView.text = \"\\$$price\"\n    }\n\n    fun setProductImage(url: String) {\n        Glide.with(itemView)\n            .load(url)\n            .centerCrop()\n            .into(imageView)\n    }\n}\n```\n\n## üíÜ Activity\n\nWith everything else in place, lets tie it all together in our `MainActivity`. Open `app\u002Fsrc\u002Fmain\u002Fjava\u002Fcom\u002Fexample\u002Frealtimestarter\u002FMainActivity.kt` and update like so:\n\n```kotlin\npackage io.appwrite.realtimestarter\n\nimport android.os.Bundle\nimport android.widget.Button\nimport androidx.activity.viewModels\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.RecyclerView\n\nclass RealtimeActivity : AppCompatActivity() {\n\n    private val viewModel by viewModels\u003CRealtimeViewModel\u003E()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_realtime)\n\n        val button = findViewById\u003CButton\u003E(R.id.btnSubscribe)\n        button.setOnClickListener {\n            viewModel.subscribeToProducts(this)\n        }\n\n        val adapter = ProductAdapter()\n        val recycler = findViewById\u003CRecyclerView\u003E(R.id.recyclerProducts)\n        recycler.adapter = adapter\n\n        viewModel.productStream.observe(this) {\n            adapter.submitNext(it)\n        }\n        viewModel.productDeleted.observe(this) {\n            adapter.submitDeleted(it)\n        }\n\n        lifecycle.addObserver(viewModel)\n    }\n\n    override fun onStop() {\n        super.onStop()\n        lifecycle.removeObserver(viewModel)\n    }\n}\n\n\n```\n\n## üèéÔ∏è Let's Get Realtime\n\nThat's it, all that's left is to run the application, then add some documents. When running on your emulator or device, click **Subscribe** to start listening for realtime updates.\n\nHead back to your Appwrite console and navigate to the `Products` collection we created earlier. From here, we can start adding new documents and see them appear in our app.\n\nAs soon you add a product in the console, you'll see them appear in the UI of your app! That's the real beauty of Appwrite Realtime, as shown below.\n\n![Products GIF](https:\u002F\u002Fs9.gifyu.com\u002Fimages\u002Fproducts-realtime90a165133e674618.gif)\n\n## ü•Ç Conclusion\n\nI hope you enjoyed building this Realtime Application with Appwrite and Android. The full source for this application is available in the [Demo Realtime Application](https:\u002F\u002Fgithub.com\u002Fabnegate\u002Fandroid-realtime-starter) repository. Let us know if you have any feedback or suggestions. Looking forward to seeing what the community can create with Appwrite Realtime and Android!\n\n## üéì Learn More\n\n- [Getting Started With Android](https:\u002F\u002Fappwrite.io\u002Fgetting-started-with-android)\n- [Android Playground](https:\u002F\u002Fgithub.com\u002Fappwrite\u002Fplayground-for-android)\n- [Appwrite Docs](https:\u002F\u002Fappwrite.io\u002Fdocs)",user:{name:"Jake Barnby",username:f,twitter_username:a,github_username:f,website_url:a,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--UhduAmhb--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F667511\u002Ffb8a0001-eb58-44d6-9b10-e3e3a5d5311f.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--8dZO_P_6--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F667511\u002Ffb8a0001-eb58-44d6-9b10-e3e3a5d5311f.jpeg"},organization:{name:"Appwrite",username:g,slug:g,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--MwfZh3wG--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2225\u002Feb541cf9-84f4-4101-987c-c219cd4b34fc.png",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--5xS_iZdD--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Forganization\u002Fprofile_image\u002F2225\u002Feb541cf9-84f4-4101-987c-c219cd4b34fc.png"},flare_tag:{name:e,bg_color_hex:"#111111",text_color_hex:"#fff9ac"}}},serverRendered:true,routePath:"\u002Farticles\u002Fabnegate\u002F808903",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"https:\u002F\u002Fdev.to\u002Fappwrite\u002Fappwrite-android-and-realtime-42jd",57,"2021-09-06T11:32:07Z","news","abnegate","appwrite"));