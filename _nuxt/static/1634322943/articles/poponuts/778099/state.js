window.__NUXT__=(function(a,b,c,d,e){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1634322943",layout:"default",error:a,state:{currentArticle:{type_of:"article",id:778099,title:"Trigger your E2E tests from another repo's Bitbucket Pipeline build",description:"There are two school of thoughts on whether End-to-end (E2E) tests should be on same repository or on...",readable_publish_date:"Aug 6",slug:"trigger-your-e2e-tests-from-another-repo-s-bitbucket-pipeline-build-fn5",path:"\u002Fpoponuts\u002Ftrigger-your-e2e-tests-from-another-repo-s-bitbucket-pipeline-build-fn5",url:d,comments_count:0,public_reactions_count:e,collection_id:a,published_timestamp:b,positive_reactions_count:e,cover_image:a,social_image:"https:\u002F\u002Fdev.to\u002Fsocial_previews\u002Farticle\u002F778099.png",canonical_url:d,created_at:"2021-08-01T07:01:42Z",edited_at:a,crossposted_at:a,published_at:b,last_comment_at:b,reading_time_minutes:2,tag_list:"e2e, cypress, bitbucket, pipeline",tags:["e2e","cypress","bitbucket","pipeline"],body_html:"\u003Cp\u003EThere are two school of thoughts on whether End-to-end (E2E) tests should be on same repository or on a separate repository. If its taking you weeks or months to debate on that with your team, then there could be a middle-ground ðŸ¤ .\u003C\u002Fp\u003E\n\n\u003Cp\u003EIf there is a separate team \u002F resource working on the E2E tests and another team \u002F resources working on the source code, then how about a compromise to make it work? This is by simply triggering the E2E tests on any changes made in the source code. \u003C\u002Fp\u003E\n\n\u003Cp\u003EThis is highly possible by using Atlassian's \u003Ca href=\"https:\u002F\u002Fbitbucket.org\u002Fproduct\u002Ffeatures\u002Fpipelines\u002Fintegrations?p=atlassian\u002Ftrigger-pipeline\"\u003EPipe - trigger pipeline\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\n\u003Cp\u003EOn the application \u002F source code's \u003Ccode\u003Ebitbucket-pipeline.yml\u003C\u002Fcode\u003E file, simply add the following as a step:\u003Cbr\u003E\n\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"highlight js-code-highlight\"\u003E\n\u003Cpre class=\"highlight yaml\"\u003E\u003Ccode\u003E    \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Estep\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nl\"\u003E&amp;run-automated-tests\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003ERun E2E and API automated tests\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Epipe\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Eatlassian\u002Ftrigger-pipeline:4.2.1\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E# https:\u002F\u002Fbitbucket.org\u002Fproduct\u002Ffeatures\u002Fpipelines\u002Fintegrations?p=atlassian\u002Ftrigger-pipeline\u003C\u002Fspan\u003E\n            \u003Cspan class=\"na\"\u003Evariables\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n              \u003Cspan class=\"na\"\u003EBITBUCKET_USERNAME\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E$BITBUCKET_USERNAME\u003C\u002Fspan\u003E\n              \u003Cspan class=\"na\"\u003EBITBUCKET_APP_PASSWORD\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E$BITBUCKET_APP_PASSWORD\u003C\u002Fspan\u003E\n              \u003Cspan class=\"na\"\u003EREPOSITORY\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003Emy-cypress-tests'\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# ACCOUNT: '&lt;string&gt;' # Optional\u003C\u002Fspan\u003E\n              \u003Cspan class=\"na\"\u003EBRANCH_NAME\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003Emaster'\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E# Optional\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# CUSTOM_PIPELINE_NAME: '&lt;string&gt;' # Optional\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# PIPELINE_VARIABLES: '&lt;json&gt;' # Optional\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# WAIT: 'true' # Optional - if set to true, it waits for the triggered pipeline to complete. If the triggered pipeline fails, this pipe will also fail.\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# WAIT_MAX_TIMEOUT: '&lt;string&gt;' # Optional\u003C\u002Fspan\u003E\n              \u003Cspan class=\"c1\"\u003E# DEBUG: '&lt;boolean&gt;' # Optional\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cdiv class=\"highlight__panel js-actions-panel\"\u003E\n\u003Cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003E\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003E\u003Ctitle\u003EEnter fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n    \u003Csvg xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003E\u003Ctitle\u003EExit fullscreen mode\u003C\u002Ftitle\u003E\n    \u003Cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003E\u003C\u002Fpath\u003E\n\u003C\u002Fsvg\u003E\n\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\n\n\u003Cp\u003E\u003Ccode\u003EBITBUCKET_USERNAME\u003C\u002Fcode\u003E can be hard-coded to your Atlassian username or this can be set under the \u003Cstrong\u003E\u003Cem\u003ERepository settings &gt; Repository variables\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E section of Bitbucket to encrypt secrets.\u003Cbr\u003E\n\u003Ccode\u003EBITBUCKET_APP_PASSWORD\u003C\u002Fcode\u003E would need to be generated via \u003Cstrong\u003E\u003Cem\u003EPersonal settings &gt; App passwords\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E then creating a new app password.\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--wnElth3E--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Ftq79a4z4p2xeatggnse3.png\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--wnElth3E--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Ftq79a4z4p2xeatggnse3.png\" alt=\"Screen Shot 2021-08-01 at 4.59.52 pm\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EAlternatively, a shared account can be created by your Atlassian administrator that can be used across CI\u002FCD pipeline and would not need dependency on resources going in and out of the team \u002F company. \u003C\u002Fp\u003E\n\n\u003Cp\u003ETo add alerting, simply integrate the tests with Slack (include as many stakeholders as possible ðŸ˜‚\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--6VTeMZhi--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fsl8rcp24q1dl8dzfbpml.png\" class=\"article-body-image-wrapper\"\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--6VTeMZhi--\u002Fc_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fsl8rcp24q1dl8dzfbpml.png\" alt=\"Screen Shot 2021-07-30 at 8.32.16 pm\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\nThis is a good opportunity to say \u003Cem\u003E\"Sorry Mr. Software Engineer, you can't proceed until you fix your breaking changes (and no, I'm not fixing my tests either!)\u003C\u002Fem\u003E Just kidding! Collaborate with your developers as much as possible to resolve the issues ðŸ˜‡\u003C\u002Fp\u003E\n\n",body_markdown:"There are two school of thoughts on whether End-to-end (E2E) tests should be on same repository or on a separate repository. If its taking you weeks or months to debate on that with your team, then there could be a middle-ground ðŸ¤ .\n\nIf there is a separate team \u002F resource working on the E2E tests and another team \u002F resources working on the source code, then how about a compromise to make it work? This is by simply triggering the E2E tests on any changes made in the source code. \n\nThis is highly possible by using Atlassian's [Pipe - trigger pipeline](https:\u002F\u002Fbitbucket.org\u002Fproduct\u002Ffeatures\u002Fpipelines\u002Fintegrations?p=atlassian\u002Ftrigger-pipeline).\n\nOn the application \u002F source code's `bitbucket-pipeline.yml` file, simply add the following as a step:\n```yml\n    - step: &run-automated-tests\n        name: Run E2E and API automated tests\n        script:\n          - pipe: atlassian\u002Ftrigger-pipeline:4.2.1 # https:\u002F\u002Fbitbucket.org\u002Fproduct\u002Ffeatures\u002Fpipelines\u002Fintegrations?p=atlassian\u002Ftrigger-pipeline\n            variables:\n              BITBUCKET_USERNAME: $BITBUCKET_USERNAME\n              BITBUCKET_APP_PASSWORD: $BITBUCKET_APP_PASSWORD\n              REPOSITORY: 'my-cypress-tests'\n              # ACCOUNT: '\u003Cstring\u003E' # Optional\n              BRANCH_NAME: 'master' # Optional\n              # CUSTOM_PIPELINE_NAME: '\u003Cstring\u003E' # Optional\n              # PIPELINE_VARIABLES: '\u003Cjson\u003E' # Optional\n              # WAIT: 'true' # Optional - if set to true, it waits for the triggered pipeline to complete. If the triggered pipeline fails, this pipe will also fail.\n              # WAIT_MAX_TIMEOUT: '\u003Cstring\u003E' # Optional\n              # DEBUG: '\u003Cboolean\u003E' # Optional\n```\n`BITBUCKET_USERNAME` can be hard-coded to your Atlassian username or this can be set under the ***Repository settings \u003E Repository variables*** section of Bitbucket to encrypt secrets.\n`BITBUCKET_APP_PASSWORD` would need to be generated via ***Personal settings \u003E App passwords*** then creating a new app password.\n![Screen Shot 2021-08-01 at 4.59.52 pm](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Ftq79a4z4p2xeatggnse3.png)\n \n\nAlternatively, a shared account can be created by your Atlassian administrator that can be used across CI\u002FCD pipeline and would not need dependency on resources going in and out of the team \u002F company. \n\nTo add alerting, simply integrate the tests with Slack (include as many stakeholders as possible ðŸ˜‚\n![Screen Shot 2021-07-30 at 8.32.16 pm](https:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Farticles\u002Fsl8rcp24q1dl8dzfbpml.png)\nThis is a good opportunity to say *\"Sorry Mr. Software Engineer, you can't proceed until you fix your breaking changes (and no, I'm not fixing my tests either!)* Just kidding! Collaborate with your developers as much as possible to resolve the issues ðŸ˜‡",user:{name:c,username:c,twitter_username:a,github_username:c,website_url:a,profile_image:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--ims1MVBM--\u002Fc_fill,f_auto,fl_progressive,h_640,q_auto,w_640\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F473640\u002F812661f2-eb34-4e69-b269-20a020812037.jpeg",profile_image_90:"https:\u002F\u002Fres.cloudinary.com\u002Fpracticaldev\u002Fimage\u002Ffetch\u002Fs--J_xZoamK--\u002Fc_fill,f_auto,fl_progressive,h_90,q_auto,w_90\u002Fhttps:\u002F\u002Fdev-to-uploads.s3.amazonaws.com\u002Fuploads\u002Fuser\u002Fprofile_image\u002F473640\u002F812661f2-eb34-4e69-b269-20a020812037.jpeg"}}},serverRendered:true,routePath:"\u002Farticles\u002Fpoponuts\u002F778099",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,"2021-08-06T03:50:33Z","poponuts","https:\u002F\u002Fdev.to\u002Fpoponuts\u002Ftrigger-your-e2e-tests-from-another-repo-s-bitbucket-pipeline-build-fn5",4));